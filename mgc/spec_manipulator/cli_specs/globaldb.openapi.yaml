{"openapi":"3.1.0","info":{"title":"GlobalDB API","version":"0.1.0"},"paths":{"/v0/ssh-keys":{"post":{"tags":["ssh_keys"],"summary":"Create Ssh Key","operationId":"create_ssh_key","security":[{"OAuth2":["gdb:ssh-pkey-w"]}],"parameters":[{"name":"X-Tenant-ID","in":"header","required":true,"schema":{"type":"string","format":"uuid","title":"X-Tenant-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SSHPubKeyPublicInput"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SSHPubKeyPublicOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["ssh_keys"],"summary":"List Ssh Keys","operationId":"list_ssh_keys","security":[{"OAuth2":["gdb:ssh-pkey-r"]}],"parameters":[{"name":"_limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":" Limit"}},{"name":"_offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":" Offset"}},{"name":"_sort","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":" Sort"}},{"name":"X-Tenant-ID","in":"header","required":true,"schema":{"type":"string","format":"uuid","title":"X-Tenant-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SSHPubKeyPublicOutputList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v0/ssh-keys/{key_id}":{"get":{"tags":["ssh_keys"],"summary":"Get Ssh Key","operationId":"get_ssh_key","security":[{"OAuth2":["gdb:ssh-pkey-r"]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Key Id"}},{"name":"X-Tenant-ID","in":"header","required":true,"schema":{"type":"string","format":"uuid","title":"X-Tenant-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SSHPubKeyPublicOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["ssh_keys"],"summary":"Delete Ssh Key","operationId":"delete_ssh_key","security":[{"OAuth2":["gdb:ssh-pkey-w"]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Key Id"}},{"name":"X-Tenant-ID","in":"header","required":true,"schema":{"type":"string","format":"uuid","title":"X-Tenant-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SSHPubKeyPublicOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/healthcheck":{"get":{"summary":"Healthcheck","operationId":"healthcheck_healthcheck_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/metrics":{"get":{"summary":"Metrics","description":"Endpoint that serves Prometheus metrics.","operationId":"metrics_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"SSHPubKeyPublicInput":{"properties":{"name":{"type":"string","maxLength":45,"title":"The SSH Key name"},"key":{"type":"string","maxLength":16384,"title":"The SSH public key data"}},"type":"object","required":["name","key"],"title":"SSHPubKeyPublicInput"},"SSHPubKeyPublicOutput":{"properties":{"id":{"type":"string","format":"uuid","title":"Id","example":"d77c8402-ef4b-41b0-9cef-b116edf174ab"},"name":{"type":"string","title":"Name","example":"my-first-key"},"key":{"type":"string","title":"Key","example":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCt742ntUIcrMpW7mUXXFgYOAaZC/M4zlEvv60niuXXUHDXr2sq4Uizs1WBdQ4aZrEJnAeHi4DFj5PkPpLdQug5DbpoPbMdaT1BwuaJLaIxBTeq0c2V8GNP/XebPiC1eB+G7L3pWPEbvjpdYnHBxYpSzuJAczh+DKmBs08sbleqUNDkD8f7RsTVSjwpSbpTTxBwn1l1BSs9zcyysxDdAU2r7NtZdVPq6SBCkuCW/dHu6NWWfXgiVCpUKWIHSEWkkFGOFXdB0pPeCgjUG5JLf/BAIfSq/DjJw6Ki7dtezcuz/64Ei8DI5S1ajKfWIWIm5Cb/6gQ2cy0Muh/w+9KsXfbv"},"key_type":{"type":"string","title":"Key Type","example":"ssh-rsa"}},"type":"object","required":["id","name","key","key_type"],"title":"SSHPubKeyPublicOutput"},"SSHPubKeyPublicOutputList":{"properties":{"results":{"items":{"$ref":"#/components/schemas/SSHPubKeyPublicOutput"},"type":"array","title":"Results"}},"type":"object","required":["results"],"title":"SSHPubKeyPublicOutputList"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2":{"type":"oauth2","flows":{"password":{"scopes":{"openid":"Default OpenID scope.","usr:user-standing:admin":"This scope allow the caller to do ANYthing as ANY tenant in the APIfor tenant routes and to interact with creating global resources, as quotas.","usr:user-standing:quota-write":"This scope allow the caller to write (create, update, delete) specific quotas overrides for ANY tenant.","usr:user-standing:tenant-region-read":"This scope allow the caller to read the data (access, block) for ANY user within regions.","usr:user-standing:tenant-region-write":"This scope allow the caller to write (create, update, delete)the data (allow or deny access and block) for ANY user within regions.","usr:user-standing:tenant-quota-read":" This scope allow the caller to read tenant quotas for ANY quota and ANY tenant.","usr:user-standing:tenant-quota-write":"This scope allow the caller to write (create, update, delete) tenant quotas overrides for ANY quota and ANY tenant.","usr:user-standing:tenant-sshpubkey-write":"This scope allow the caller to write (create, update, delete) SSH Public Keys for ANY tenant.","usr:user-standing:tenant-sshpubkey-read":"This scope allow the caller to read SSH Public Keys of ANY tenant.","usr:user-standing:tenant-restricted:sshpubkey-read":"This scope allow the caller to read SSH Public Keys for ONE specific tenant, which is determined by the token. This scope needs tenant owner consent.","usr:user-standing:tenant-restricted:sshpubkey-write":"This scope allow the caller to write (create, update, delete) SSH Public Keys for ONE specific tenant, which is determined by the token. This scope needs tenant owner consent.","usr:user-standing:tenant-restricted:sign-terms":"This scope allow the caller to sign the terms of use and privacy policy for ONE specific tenant, which is determined by the token. This scope needs tenant owner consent.","usr:user-standing:tenant-user-data":"This scope allow the caller to read tenant user general data (signatures, blocks) for ANY tenant.","usr:user-standing:tenant-restricted:user-data":"This scope allow the caller to read tenant user general data (signatures, blocks) for ONE specific tenant, which is determined by the token.","usr:user-standing:block-read":"This scope allow the caller to read tenant user blocks for ANY tenant.","usr:user-standing:block-write":"This scope allow the caller to create tenant user blocks for ANY tenant.","usr:user-standing:onboarding-write":"This scope allow the caller to register the onboarding for ANY tenant.","usr:user-standing:tenant-ppp-read":"This scope allow the caller to read per-product-policies of ANY tenant.","usr:user-standing:tenant-ppp-write":"This scope allow the caller to register and update per-product-policies for ANY tenant.","usr:user-standing:bucket-read":"This scope allow the caller to read buckets.","usr:user-standing:bucket-write":"This scope allow the caller to create buckets.","gdb:ssh-pkey-w":"This scope allow the caller to write (create, update, delete) SSH Public Keys for ANY tenant, on public GlobalDB","gdb:ssh-pkey-r":"This scope allow the caller to read SSH Public Keys of ANY tenant, on public GlobalDB","gdb:admin":"This scope allow the caller to do ANYthing as ANY tenant in the API, on public GlobalDB"},"tokenUrl":"https://autoseg-idp.luizalabs.com/oauth/token"}}}}}}