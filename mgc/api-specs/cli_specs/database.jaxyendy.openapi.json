{"openapi":"3.0.2","info":{"title":"DBaaS API Product","description":"DBaaS API Product.","contact":{"name":"Tribo IAAS Cloud","url":"https://gitlab.luizalabs.com/cloud/dbaas/docs","email":"cloud-iaas-dbaas@luizalabs.com"},"version":"1.19.0"},"servers":[{"url":"http://dbaas-api-product.dbaas-api-product.svc.cluster.local"},{"url":"http://localhost:8000"}],"paths":{"/v1/healthcheck":{"get":{"tags":["healthcheck"],"summary":"Health Check","operationId":"healthcheck_v1_healthcheck_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/admin/instances":{"delete":{"tags":["admin"],"summary":"Deletes all databases by tenant id.","description":"Deletes all databases by tenant id.","operationId":"admin_instances_v1_delete_all","parameters":[{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllDatabasesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/backups":{"get":{"tags":["backups"],"summary":"Backups List.","description":"List all backups.","operationId":"backups_list_v1_backups_get","parameters":[{"required":false,"schema":{"title":"Offset","minimum":0.0,"type":"integer","default":0},"name":"_offset","in":"query"},{"required":false,"schema":{"title":" Limit","maximum":50.0,"minimum":1.0,"type":"integer","default":10},"name":"_limit","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/BackupType"},"name":"type","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/BackupMode"},"name":"mode","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/BackupStatusResponse"},"name":"status","in":"query"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/backups/{backup_id}":{"get":{"tags":["backups"],"summary":"Backup Detail.","description":"Get a backup detail.","operationId":"backup_detail_v1_backups__backup_id__get","parameters":[{"required":true,"schema":{"title":"Backup Id","type":"string","format":"uuid"},"name":"backup_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["backups"],"summary":"Delete Backup.","description":"Deletes a database backup.","operationId":"delete_backup_v1_backups__backup_id__delete","parameters":[{"required":true,"schema":{"title":"Backup Id","type":"string","format":"uuid"},"name":"backup_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/engines":{"get":{"tags":["engines"],"summary":"List available engines.","description":"Returns a list of available engines.","operationId":"engines_v1_get_all","parameters":[{"required":false,"schema":{"title":"Offset","minimum":0.0,"type":"integer","default":0},"name":"_offset","in":"query"},{"required":false,"schema":{"title":"Limit","maximum":50.0,"minimum":1.0,"type":"integer","default":10},"name":"_limit","in":"query"},{"description":"Value referring to engine status.","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/EngineStatus"}],"description":"Value referring to engine status."},"name":"status","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnginesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/datastores":{"get":{"tags":["datastores"],"summary":"List available engines.","description":"Returns a list of available datastore.","operationId":"datastores_v1_get_all","parameters":[{"required":false,"schema":{"title":"Offset","minimum":0.0,"type":"integer","default":0},"name":"_offset","in":"query"},{"required":false,"schema":{"title":"Limit","maximum":50.0,"minimum":1.0,"type":"integer","default":10},"name":"_limit","in":"query"},{"description":"Value referring to engine status.","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/EngineStatus"}],"description":"Value referring to engine status."},"name":"status","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnginesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"deprecated":true}},"/v1/engines/{engine_id}":{"get":{"tags":["engines"],"summary":"Engine detail.","description":"Returns a engine detail.","operationId":"engines_v1_get_by_id","parameters":[{"description":"Value referring to Engine Id.","required":true,"schema":{"title":"Engine Id","type":"string","description":"Value referring to Engine Id.","format":"uuid"},"example":"7a11cfc5-f9f8-4fa2-a418-94a423f6a51f","name":"engine_id","in":"path"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EngineResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/datastores/{engine_id}":{"get":{"tags":["datastores"],"summary":"Engine detail.","description":"Returns a engine detail.","operationId":"datastores_v1_get_by_id","parameters":[{"description":"Value referring to Engine Id.","required":true,"schema":{"title":"Engine Id","type":"string","description":"Value referring to Engine Id.","format":"uuid"},"example":"7a11cfc5-f9f8-4fa2-a418-94a423f6a51f","name":"engine_id","in":"path"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EngineResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"deprecated":true}},"/v1/flavors":{"get":{"tags":["flavors"],"summary":"List available flavors.","description":"Returns a list of available flavors. A flavor is a hardware template that defines the size of RAM and vcpu.","operationId":"flavors_v1_get_all","parameters":[{"required":false,"schema":{"title":"Offset","minimum":0.0,"type":"integer","default":0},"name":"_offset","in":"query"},{"required":false,"schema":{"title":" Limit","maximum":50.0,"minimum":1.0,"type":"integer","default":10},"name":"_limit","in":"query"},{"required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/FlavorStatus"}],"default":"ACTIVE"},"name":"status","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlavorsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/flavors/{flavor_id}":{"get":{"tags":["flavors"],"summary":"Flavor detail.","description":"Returns a flavor detail.","operationId":"flavors_v1_get_by_id","parameters":[{"description":"Flavor Unique Id.","required":true,"schema":{"title":"Flavor Id","type":"string","description":"Flavor Unique Id.","format":"uuid"},"name":"flavor_id","in":"path"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlavorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/instances":{"get":{"tags":["instances"],"summary":"List all database instances.","description":"Returns a list of database instances for a x-tenant-id.","operationId":"instances_list_v1_instances_get","parameters":[{"required":false,"schema":{"title":"Offset","minimum":0.0,"type":"integer","default":0},"name":"_offset","in":"query"},{"required":false,"schema":{"title":" Limit","maximum":25.0,"minimum":1.0,"type":"integer","default":10},"name":"_limit","in":"query"},{"description":"\nInstance extra attributes or relations to show with the main query. When available, more than one value\ncan be informed using commas. e.g: `_expand=value1,value2`","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/InstanceExpand"}],"description":"\nInstance extra attributes or relations to show with the main query. When available, more than one value\ncan be informed using commas. e.g: `_expand=value1,value2`"},"example":"replicas","name":"_expand","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/InstanceStatusResponse"},"name":"status","in":"query"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string"},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstancesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["instances"],"summary":"Creates a new database instance.","description":"Creates a new database instance asynchronously for a tenant.","operationId":"instances_v1_post","parameters":[{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstanceCreateRequest"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstanceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/instances/{instance_id}":{"get":{"tags":["instances"],"summary":"Database instance details.","description":"Returns a database instance detail.","operationId":"instances_v1_get_by_id","parameters":[{"description":"Database Instance Unique Id.","required":true,"schema":{"title":"Instance Id","type":"string","description":"Database Instance Unique Id.","format":"uuid"},"name":"instance_id","in":"path"},{"description":"\nInstance extra attributes or relations to show with the main query. When available, more than one value\ncan be informed using commas. e.g: `_expand=value1,value2`","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/InstanceExpand"}],"description":"\nInstance extra attributes or relations to show with the main query. When available, more than one value\ncan be informed using commas. e.g: `_expand=value1,value2`"},"example":"replicas","name":"_expand","in":"query"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstanceDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["instances"],"summary":"Deletes a database instance.","description":"Deletes a database instance.","operationId":"instances_v1_delete","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["instances"],"summary":"Database instance update.","description":"Updates a database instance.","operationId":"instances_v1_patch","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstanceUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstanceDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/instances/{instance_id}/resize":{"post":{"tags":["instances"],"summary":"Resizes a database instance.","description":"Resizes a database instance.","operationId":"instances_v1_resize","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstanceResizeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstanceDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/instances/{instance_id}/start":{"post":{"tags":["instances"],"summary":"Starts a database instance.","description":"Starts a database instance.","operationId":"instances_v1_start","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstanceDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/instances/{instance_id}/stop":{"post":{"tags":["instances"],"summary":"Stops a database instance.","description":"Stops a database instance.","operationId":"instances_v1_stop","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstanceDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/instances/{instance_id}/backups":{"get":{"tags":["instances"],"summary":"Backups List.","description":"List all backups.","operationId":"backups_list_v1_instances__instance_id__backups_get","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"required":false,"schema":{"title":"Offset","minimum":0.0,"type":"integer","default":0},"name":"_offset","in":"query"},{"required":false,"schema":{"title":" Limit","maximum":50.0,"minimum":1.0,"type":"integer","default":10},"name":"_limit","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/BackupType"},"name":"type","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/BackupMode"},"name":"mode","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/BackupStatusResponse"},"name":"status","in":"query"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["instances"],"summary":"Backup Create.","description":"Creates a new backup asynchronously.","operationId":"backup_create_v1_instances__instance_id__backups_post","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupCreateRequest"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/instances/{instance_id}/backups/{backup_id}":{"get":{"tags":["instances"],"summary":"Backup Detail.","description":"Get a backup detail.","operationId":"backup_detail_v1_instances__instance_id__backups__backup_id__get","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"required":true,"schema":{"title":"Backup Id","type":"string","format":"uuid"},"name":"backup_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["instances"],"summary":"Delete Backup.","description":"Deletes a database backup.","operationId":"delete_backup_v1_instances__instance_id__backups__backup_id__delete","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"required":true,"schema":{"title":"Backup Id","type":"string","format":"uuid"},"name":"backup_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/instances/{instance_id}/restores":{"post":{"tags":["instances"],"summary":"Backup restore.","description":"Restores a backup for an instance asynchronously.","operationId":"instances_v1_restore","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RestoreCreateRequest"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RestoreResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/internal/instances":{"get":{"tags":["internal-instances"],"summary":"List all database instances.","description":"Returns a list of database instances for a x-tenant-id.","operationId":"internal_v1_instances_get_all","parameters":[{"description":"Tenant unique identifier.","required":false,"schema":{"title":"Tenant.Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"tenant.id","in":"query"},{"required":false,"schema":{"title":"Offset","minimum":0.0,"type":"integer","default":0},"name":"_offset","in":"query"},{"required":false,"schema":{"title":" Limit","maximum":25.0,"minimum":1.0,"type":"integer","default":10},"name":"_limit","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/InstanceStatus"},"name":"status","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/InstanceGeneration"},"name":"generation","in":"query"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalInstancesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/internal/instances/{instance_id}":{"get":{"tags":["internal-instances"],"summary":"Database instance details.","description":"Returns a database instance detail.","operationId":"internal_v1_instances_get_by_id","parameters":[{"description":"Database Instance Unique Id.","required":true,"schema":{"title":"Instance Id","type":"string","description":"Database Instance Unique Id.","format":"uuid"},"name":"instance_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalInstanceDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/internal/instances/{instance_id}/upgrades":{"get":{"tags":["internal-instances"],"summary":"Upgrades List.","description":"List all upgrades.","operationId":"internal_v1_instances_upgrades_get_all","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"description":"Tenant unique identifier.","required":false,"schema":{"title":"Tenant.Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"tenant.id","in":"query"},{"required":false,"schema":{"title":"Offset","minimum":0.0,"type":"integer","default":0},"name":"_offset","in":"query"},{"required":false,"schema":{"title":" Limit","maximum":25.0,"minimum":1.0,"type":"integer","default":10},"name":"_limit","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/UpgradeStatus"},"name":"status","in":"query"},{"required":false,"schema":{"$ref":"#/components/schemas/InstanceGeneration"},"name":"generation","in":"query"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpgradesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["internal-instances"],"summary":"Upgrades a database instance.","description":"Upgrade database instance generation asynchronously for a tenant.","operationId":"internal_v1_instances_upgrades_post","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"}],"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpgradeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/internal/instances/{instance_id}/upgrades/{upgrade_id}":{"get":{"tags":["internal-instances"],"summary":"Upgrade Detail.","description":"Get an upgrade detail.","operationId":"internal_v1_instances_upgrades_get_by_id","parameters":[{"required":true,"schema":{"title":"Instance Id","type":"string","format":"uuid"},"name":"instance_id","in":"path"},{"required":true,"schema":{"title":"Upgrade Id","type":"string","format":"uuid"},"name":"upgrade_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpgradeDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/replicas":{"get":{"tags":["replicas"],"summary":"Replicas List.","description":"List all replicas for a given instance.","operationId":"replicas_list_v1_replicas_get","parameters":[{"required":false,"schema":{"title":"Source Id","type":"string","format":"uuid"},"name":"source_id","in":"query"},{"required":false,"schema":{"title":"Offset","minimum":0.0,"type":"integer","default":0},"name":"_offset","in":"query"},{"required":false,"schema":{"title":" Limit","maximum":50.0,"minimum":1.0,"type":"integer","default":10},"name":"_limit","in":"query"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReplicasResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["replicas"],"summary":"Replica Create.","description":"Creates a new replica for an instance asynchronously.","operationId":"replica_create_v1_replicas_post","parameters":[{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReplicaCreateRequest"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReplicaResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/replicas/{replica_id}":{"get":{"tags":["replicas"],"summary":"Replica Detail.","description":"Get an instance replica detail.","operationId":"replica_detail_v1_replicas__replica_id__get","parameters":[{"required":true,"schema":{"title":"Replica Id","type":"string","format":"uuid"},"name":"replica_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReplicaDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["replicas"],"summary":"Deletes a replica instance.","description":"Deletes a replica instance.","operationId":"replica_v1_delete","parameters":[{"required":true,"schema":{"title":"Replica Id","type":"string","format":"uuid"},"name":"replica_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"202":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/replicas/{replica_id}/resize":{"post":{"tags":["replicas"],"summary":"Replica Resize.","description":"Resize an instance replica.","operationId":"replica_resize_v1_replicas_post","parameters":[{"required":true,"schema":{"title":"Replica Id","type":"string","format":"uuid"},"name":"replica_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReplicaResizeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReplicaDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/replicas/{replica_id}/start":{"post":{"tags":["replicas"],"summary":"Replica Start.","description":"Start an instance replica.","operationId":"replica_start_v1_replicas__replica_id__start_post","parameters":[{"required":true,"schema":{"title":"Replica Id","type":"string","format":"uuid"},"name":"replica_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReplicaDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/replicas/{replica_id}/stop":{"post":{"tags":["replicas"],"summary":"Replica Stop.","description":"Stop an instance replica.","operationId":"replica_stop_v1_replicas__replica_id__stop_post","parameters":[{"required":true,"schema":{"title":"Replica Id","type":"string","format":"uuid"},"name":"replica_id","in":"path"},{"required":false,"schema":{"title":"Exchange","type":"string","default":"dbaas-internal"},"name":"exchange","in":"query"},{"description":"Tenant unique identifier.","required":true,"schema":{"title":"X-Tenant-Id","maxLength":36,"type":"string","description":"Tenant unique identifier."},"example":"889da663-a1dd-4aed-b53a-03a7e919c335","name":"x-tenant-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReplicaDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AddressAccess":{"title":"AddressAccess","enum":["PRIVATE","PUBLIC"],"description":"An enumeration."},"AddressType":{"title":"AddressType","enum":["IPv4","IPv6"],"description":"An enumeration."},"AllDatabasesResponse":{"title":"AllDatabasesResponse","required":["all_instances_and_backups"],"type":"object","properties":{"all_instances_and_backups":{"title":"All Instances And Backups","type":"array","items":{"$ref":"#/components/schemas/AllDeleting"}}}},"AllDeleting":{"title":"AllDeleting","required":["instance_id_deleting","backups_ids_deleting"],"type":"object","properties":{"instance_id_deleting":{"title":"Instance Id Deleting","type":"string","format":"uuid"},"backups_ids_deleting":{"title":"Backups Ids Deleting","type":"array","items":{"type":"string","format":"uuid"}}}},"BackupCreateRequest":{"title":"BackupCreateRequest","required":["mode"],"type":"object","properties":{"mode":{"$ref":"#/components/schemas/BackupModeRequest"}}},"BackupDetailResponse":{"title":"BackupDetailResponse","required":["id","instance_id","type","status","mode","created_at"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"instance_id":{"title":"Instance Id","type":"string","format":"uuid"},"name":{"title":"Name","type":"string"},"location":{"title":"Location","type":"string"},"type":{"$ref":"#/components/schemas/BackupType"},"status":{"$ref":"#/components/schemas/BackupStatusResponse"},"mode":{"$ref":"#/components/schemas/BackupMode"},"db_size":{"title":"Db Size","exclusiveMinimum":0.0,"type":"integer"},"size":{"title":"Size","exclusiveMinimum":0.0,"type":"integer"},"started_at":{"title":"Started At","type":"string","format":"date-time"},"finished_at":{"title":"Finished At","type":"string","format":"date-time"},"created_at":{"title":"Created At","type":"string","format":"date-time"},"updated_at":{"title":"Updated At","type":"string","format":"date-time"}}},"BackupMode":{"title":"BackupMode","enum":["FULL","INCREMENTAL"],"description":"An enumeration."},"BackupModeRequest":{"title":"BackupModeRequest","enum":["FULL"],"description":"An enumeration."},"BackupResponse":{"title":"BackupResponse","required":["id"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"}}},"BackupStatusResponse":{"title":"BackupStatusResponse","enum":["PENDING","CREATING","CREATED","ERROR","DELETING","DELETED","ERROR_DELETING"],"description":"An enumeration."},"BackupType":{"title":"BackupType","enum":["ON_DEMAND","AUTOMATED"],"description":"An enumeration."},"BackupsResponse":{"title":"BackupsResponse","required":["meta","results"],"type":"object","properties":{"meta":{"$ref":"#/components/schemas/MetaResponse"},"results":{"title":"Results","type":"array","items":{"$ref":"#/components/schemas/BackupDetailResponse"}}}},"EngineResponse":{"title":"EngineResponse","required":["id","name","engine","version","status"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"name":{"title":"Name","type":"string"},"engine":{"title":"Engine","type":"string","deprecated":true},"version":{"title":"Version","type":"string"},"status":{"$ref":"#/components/schemas/EngineStatus"}}},"EngineStatus":{"title":"EngineStatus","enum":["ACTIVE","DEPRECATED"],"description":"An enumeration."},"EnginesResponse":{"title":"EnginesResponse","required":["meta","results"],"type":"object","properties":{"meta":{"$ref":"#/components/schemas/MetaResponse"},"results":{"title":"Results","type":"array","items":{"$ref":"#/components/schemas/EngineResponse"}}}},"FlavorResponse":{"title":"FlavorResponse","required":["id","name","label","family_description","family_slug","size","sku_source","sku_replica","vcpu","ram"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"name":{"title":"Name","type":"string"},"label":{"title":"Label","type":"string"},"family_description":{"title":"Family Description","type":"string"},"family_slug":{"title":"Family Slug","type":"string"},"size":{"title":"Size","type":"string"},"sku_source":{"title":"Sku Source","type":"string"},"sku_replica":{"title":"Sku Replica","type":"string"},"vcpu":{"title":"Vcpu","type":"string"},"ram":{"title":"Ram","type":"string"}}},"FlavorStatus":{"title":"FlavorStatus","enum":["ACTIVE","DEPRECATED"],"description":"An enumeration."},"FlavorsResponse":{"title":"FlavorsResponse","required":["meta","results"],"type":"object","properties":{"meta":{"$ref":"#/components/schemas/MetaResponse"},"results":{"title":"Results","type":"array","items":{"$ref":"#/components/schemas/FlavorResponse"}}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"InstanceAddressResponse":{"title":"InstanceAddressResponse","required":["access"],"type":"object","properties":{"access":{"$ref":"#/components/schemas/AddressAccess"},"type":{"$ref":"#/components/schemas/AddressType"},"address":{"title":"Address","type":"string"}}},"InstanceCreateRequest":{"title":"InstanceCreateRequest","required":["name","flavor_id","user","password","volume"],"type":"object","properties":{"name":{"title":"Name","maxLength":100,"type":"string"},"datastore_id":{"title":"Datastore Id","type":"string","format":"uuid","deprecated":true},"engine_id":{"title":"Engine Id","type":"string","format":"uuid"},"flavor_id":{"title":"Flavor Id","type":"string","format":"uuid"},"user":{"title":"User","maxLength":25,"type":"string"},"password":{"title":"Password","maxLength":50,"type":"string"},"volume":{"$ref":"#/components/schemas/InstanceVolumeRequest"},"backup_retention_days":{"title":"Backup Retention Days","exclusiveMinimum":0.0,"type":"integer","default":7},"backup_start_at":{"title":"Backup Start At","type":"string","format":"time","default":"04:00:00"},"parameters":{"title":"Parameters","type":"array","items":{"$ref":"#/components/schemas/InstanceParametersRequest"},"default":[]}}},"InstanceDetailResponse":{"title":"InstanceDetailResponse","required":["id","name","engine_id","datastore_id","flavor_id","volume","addresses","status","generation","created_at","backup_retention_days","backup_start_at","parameters"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"name":{"title":"Name","maxLength":100,"type":"string"},"engine_id":{"title":"Engine Id","type":"string","format":"uuid"},"datastore_id":{"title":"Datastore Id","type":"string","format":"uuid","deprecated":true},"flavor_id":{"title":"Flavor Id","type":"string","format":"uuid"},"volume":{"$ref":"#/components/schemas/InstanceVolumeResponse"},"addresses":{"title":"Addresses","type":"array","items":{"$ref":"#/components/schemas/InstanceAddressResponse"}},"status":{"$ref":"#/components/schemas/InstanceStatusResponse"},"generation":{"$ref":"#/components/schemas/InstanceGeneration"},"created_at":{"title":"Created At","type":"string","format":"date-time"},"updated_at":{"title":"Updated At","type":"string","format":"date-time"},"started_at":{"title":"Started At","type":"string","format":"date-time"},"finished_at":{"title":"Finished At","type":"string","format":"date-time"},"backup_retention_days":{"title":"Backup Retention Days","exclusiveMinimum":0.0,"type":"integer"},"backup_start_at":{"title":"Backup Start At","type":"string","format":"time"},"parameters":{"title":"Parameters","type":"array","items":{"$ref":"#/components/schemas/InstanceParametersResponse"}},"replicas":{"title":"Replicas","type":"array","items":{"$ref":"#/components/schemas/ReplicaDetailResponse"}}}},"InstanceExpand":{"title":"InstanceExpand","enum":["replicas"],"type":"string","description":"An enumeration."},"InstanceGeneration":{"title":"InstanceGeneration","enum":["G0B","G1B","G2B","G3B","G4B"],"description":"An enumeration."},"InstanceParametersNames":{"title":"InstanceParametersNames","enum":["LOWER_CASE_TABLE_NAMES"],"description":"An enumeration."},"InstanceParametersRequest":{"title":"InstanceParametersRequest","required":["name","value"],"type":"object","properties":{"name":{"$ref":"#/components/schemas/InstanceParametersNames"},"value":{"title":"Value","anyOf":[{"type":"number"},{"type":"integer"},{"type":"boolean"},{"type":"string"}]}}},"InstanceParametersResponse":{"title":"InstanceParametersResponse","required":["name","value"],"type":"object","properties":{"name":{"$ref":"#/components/schemas/InstanceParametersNames"},"value":{"title":"Value","anyOf":[{"type":"number"},{"type":"integer"},{"type":"boolean"},{"type":"string"}]}}},"InstanceResizeRequest":{"title":"InstanceResizeRequest","type":"object","properties":{"flavor_id":{"title":"Flavor Id","type":"string","format":"uuid"},"volume":{"$ref":"#/components/schemas/InstanceVolumeRequest"}}},"InstanceResponse":{"title":"InstanceResponse","required":["id"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"}}},"InstanceStatus":{"title":"InstanceStatus","enum":["ERROR","PENDING","ACTIVE","BUILD","BUILDING","DELETED","HARD_REBOOT","PASSWORD","PAUSED","REBUILD","RESCUE","RESCUED","RESIZED","RESIZING","REVERT_SIZE","REVERT_RESIZE","SOFT_DELETED","STOPPED","SUSPENDED","UNKNOWN","VERIFY_RESIZE","CREATING","STARTING","STOPPING","BACKING_UP","DELETING","RESTORING","ERROR_RESTORING","ERROR_DELETING","REBOOT","UPGRADING","ERROR_UPGRADING","ERROR_RESIZING","ERROR_STARTING","ERROR_STOPPING"],"description":"An enumeration."},"InstanceStatusResponse":{"title":"InstanceStatusResponse","enum":["CREATING","ERROR","STOPPED","REBOOT","PENDING","RESIZING","DELETED","ACTIVE","STARTING","STOPPING","BACKING_UP","DELETING","RESTORING","ERROR_DELETING","MAINTENANCE"],"description":"An enumeration."},"InstanceUpdateRequest":{"title":"InstanceUpdateRequest","type":"object","properties":{"status":{"$ref":"#/components/schemas/InstanceUpdateStatus"},"backup_retention_days":{"title":"Backup Retention Days","exclusiveMinimum":0.0,"type":"integer"},"backup_start_at":{"title":"Backup Start At","type":"string","format":"time"}}},"InstanceUpdateStatus":{"title":"InstanceUpdateStatus","enum":["ACTIVE","STOPPED"],"description":"An enumeration."},"InstanceVolumeRequest":{"title":"InstanceVolumeRequest","required":["size"],"type":"object","properties":{"size":{"title":"Size","maximum":50000.0,"minimum":10.0,"type":"integer"},"type":{"allOf":[{"$ref":"#/components/schemas/VolumeType"}],"default":"CLOUD_NVME_15K"}}},"InstanceVolumeResponse":{"title":"InstanceVolumeResponse","required":["size","type"],"type":"object","properties":{"size":{"title":"Size","maximum":50000.0,"minimum":10.0,"type":"integer"},"type":{"$ref":"#/components/schemas/VolumeType"}}},"InstancesResponse":{"title":"InstancesResponse","required":["meta","results"],"type":"object","properties":{"meta":{"$ref":"#/components/schemas/MetaResponse"},"results":{"title":"Results","type":"array","items":{"$ref":"#/components/schemas/InstanceDetailResponse"}}}},"InternalInstanceDetailResponse":{"title":"InternalInstanceDetailResponse","required":["id","name","tenant_id","engine_id","datastore_id","flavor_id","volume","addresses","status","generation","created_at","backup_retention_days","backup_start_at"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"name":{"title":"Name","maxLength":100,"type":"string"},"tenant_id":{"title":"Tenant Id","type":"string","format":"uuid"},"engine_id":{"title":"Engine Id","type":"string","format":"uuid"},"datastore_id":{"title":"Datastore Id","type":"string","format":"uuid","deprecated":true},"flavor_id":{"title":"Flavor Id","type":"string","format":"uuid"},"volume":{"$ref":"#/components/schemas/InstanceVolumeResponse"},"addresses":{"title":"Addresses","type":"array","items":{"$ref":"#/components/schemas/InstanceAddressResponse"}},"status":{"$ref":"#/components/schemas/InstanceStatus"},"generation":{"$ref":"#/components/schemas/InstanceGeneration"},"generation_hold":{"$ref":"#/components/schemas/InstanceGeneration"},"created_at":{"title":"Created At","type":"string","format":"date-time"},"updated_at":{"title":"Updated At","type":"string","format":"date-time"},"started_at":{"title":"Started At","type":"string","format":"date-time"},"finished_at":{"title":"Finished At","type":"string","format":"date-time"},"backup_retention_days":{"title":"Backup Retention Days","exclusiveMinimum":0.0,"type":"integer"},"backup_start_at":{"title":"Backup Start At","type":"string","format":"time"}}},"InternalInstancesResponse":{"title":"InternalInstancesResponse","required":["meta","results"],"type":"object","properties":{"meta":{"$ref":"#/components/schemas/MetaResponse"},"results":{"title":"Results","type":"array","items":{"$ref":"#/components/schemas/InternalInstanceDetailResponse"}}}},"MetaResponse":{"title":"MetaResponse","required":["page"],"type":"object","properties":{"page":{"$ref":"#/components/schemas/PageResponse"}}},"PageResponse":{"title":"PageResponse","required":["offset","limit","count","total","max_limit"],"type":"object","properties":{"offset":{"title":"Offset","type":"integer","description":"The number of items to skip before starting to collect the result set."},"limit":{"title":"Limit","type":"integer","description":"The maximum number of items per page."},"count":{"title":"Count","type":"integer","description":"The number of items on the current page."},"total":{"title":"Total","type":"integer","description":"The total number of items available across all pages."},"max_limit":{"title":"Max Limit","type":"integer","description":"The maximum allowable limit for the number of items per page."}}},"ReplicaAddressResponse":{"title":"ReplicaAddressResponse","required":["access"],"type":"object","properties":{"access":{"$ref":"#/components/schemas/AddressAccess"},"type":{"$ref":"#/components/schemas/AddressType"},"address":{"title":"Address","type":"string"}}},"ReplicaCreateRequest":{"title":"ReplicaCreateRequest","required":["source_id","name"],"type":"object","properties":{"source_id":{"title":"Source Id","type":"string","format":"uuid"},"name":{"title":"Name","maxLength":255,"type":"string"},"flavor_id":{"title":"Flavor Id","type":"string","format":"uuid"}}},"ReplicaDetailResponse":{"title":"ReplicaDetailResponse","required":["id","source_id","name","engine_id","datastore_id","flavor_id","volume","addresses","status","generation","created_at","parameters"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"source_id":{"title":"Source Id","type":"string","format":"uuid"},"name":{"title":"Name","type":"string"},"engine_id":{"title":"Engine Id","type":"string","format":"uuid"},"datastore_id":{"title":"Datastore Id","type":"string","format":"uuid","deprecated":true},"flavor_id":{"title":"Flavor Id","type":"string","format":"uuid"},"volume":{"$ref":"#/components/schemas/ReplicaVolumeResponse"},"addresses":{"title":"Addresses","type":"array","items":{"$ref":"#/components/schemas/ReplicaAddressResponse"}},"status":{"$ref":"#/components/schemas/InstanceStatusResponse"},"generation":{"$ref":"#/components/schemas/InstanceGeneration"},"created_at":{"title":"Created At","type":"string","format":"date-time"},"updated_at":{"title":"Updated At","type":"string","format":"date-time"},"started_at":{"title":"Started At","type":"string","format":"date-time"},"finished_at":{"title":"Finished At","type":"string","format":"date-time"},"parameters":{"title":"Parameters","type":"array","items":{"$ref":"#/components/schemas/InstanceParametersResponse"}}}},"ReplicaResizeRequest":{"title":"ReplicaResizeRequest","required":["flavor_id"],"type":"object","properties":{"flavor_id":{"title":"Flavor Id","type":"string","format":"uuid"}}},"ReplicaResponse":{"title":"ReplicaResponse","required":["id"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"}}},"ReplicaVolumeResponse":{"title":"ReplicaVolumeResponse","required":["size","type"],"type":"object","properties":{"size":{"title":"Size","maximum":50000.0,"minimum":10.0,"type":"integer"},"type":{"$ref":"#/components/schemas/VolumeType"}}},"ReplicasResponse":{"title":"ReplicasResponse","required":["meta","results"],"type":"object","properties":{"meta":{"$ref":"#/components/schemas/MetaResponse"},"results":{"title":"Results","type":"array","items":{"$ref":"#/components/schemas/ReplicaDetailResponse"}}}},"RestoreCreateRequest":{"title":"RestoreCreateRequest","required":["backup_id"],"type":"object","properties":{"backup_id":{"title":"Backup Id","type":"string","format":"uuid"}}},"RestoreResponse":{"title":"RestoreResponse","required":["id"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"}}},"UpgradeDetailResponse":{"title":"UpgradeDetailResponse","required":["id","instance_id","generation","status","created_at"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"instance_id":{"title":"Instance Id","type":"string","format":"uuid"},"generation":{"$ref":"#/components/schemas/InstanceGeneration"},"status":{"$ref":"#/components/schemas/UpgradeStatus"},"started_at":{"title":"Started At","type":"string","format":"date-time"},"finished_at":{"title":"Finished At","type":"string","format":"date-time"},"created_at":{"title":"Created At","type":"string","format":"date-time"},"updated_at":{"title":"Updated At","type":"string","format":"date-time"}}},"UpgradeResponse":{"title":"UpgradeResponse","required":["id"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"}}},"UpgradeStatus":{"title":"UpgradeStatus","enum":["PENDING","UPGRADING","UPGRADED","ERROR"],"description":"An enumeration."},"UpgradesResponse":{"title":"UpgradesResponse","required":["meta","results"],"type":"object","properties":{"meta":{"$ref":"#/components/schemas/MetaResponse"},"results":{"title":"Results","type":"array","items":{"$ref":"#/components/schemas/UpgradeDetailResponse"}}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}},"VolumeType":{"title":"VolumeType","enum":["CLOUD_NVME","CLOUD_HDD","CLOUD_NVME_15K"],"description":"An enumeration."}}},"tags":[{"name":"healthcheck","description":"Health check."},{"name":"backups","description":"Database backups management."},{"name":"datastores","description":"Datastores available for database instances."},{"name":"engines","description":"Engines available for database instances."},{"name":"instances","description":"Database instances management."},{"name":"flavors","description":"Flavors available for database instances."},{"name":"replicas","description":"Database replicas management."}]}