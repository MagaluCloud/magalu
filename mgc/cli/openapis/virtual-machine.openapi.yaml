openapi: 3.0.3
info:
    title: Virtual Machine Api Product - v1
    description: Virtual Machine Api Product
    contact:
        name: IaaS Products
        url: https://github.com/luizalabs
        email: kassio.junqueira@luizalabs.com
    version: v1
paths:
    /v1/backups:
        post:
            tags:
            - backups
            summary: Create a backup of a virtual machine asynchronously.
            description: create a backup from instance
            operationId: create_backup_v1_backups_post
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BackupRequest'
            responses:
                '202':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/backups/{id}:
        delete:
            tags:
            - backups
            summary: Delete a backup of a virtual machine asynchronously.
            description: delete a backup from instance
            operationId: delete_backup_v1_backups__id__delete
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/images:
        get:
            tags:
            - images
            summary: Retrieves all images available in the region.
            description: Retrieve a list of images allowed for the current tenant
                which is logged in.
            operationId: list_images_v1_v1_images_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    default: 50
                    title: ' Limit'
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    default: 0
                    title: ' Offset'
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    default: platform:asc,end_life_at:desc
                    title: ' Sort'
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListImageExternalV1'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.images[*].id,NAME:$.images[*].name,VERSION:$.images[*].version,PLATFORM:$.images[*].platform,END_STANDARD_SUPPORT_AT:$.images[*].end_standard_support_at,STATUS:$.images[*].status
            security:
            -   OAuth2:
                - virtual-machine.read
    /v1/instances:
        get:
            tags:
            - instances
            summary: Lists all instances in the current tenant.
            description: 'List Virtual Machine instances in the current tenant which
                is logged in.


                #### Notes

                - You can use the **extend** argument to get more details from the
                inner objects

                like image or type.'
            operationId: list_instances_v1_v1_instances_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    description: limit the number of the results
                    default: 50
                    title: ' Limit'
                description: limit the number of the results
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    description: pagination for the results limited
                    default: 0
                    title: ' Offset'
                description: pagination for the results limited
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    description: order of the results using informed fields
                    default: created_at:asc
                    title: ' Sort'
                description: order of the results using informed fields
            -   name: expand
                in: query
                required: false
                schema:
                    type: array
                    items:
                        type: string
                    description: 'You can get more detailed info about: [''image'',
                        ''machine-type'', ''network''] '
                    default: []
                    title: Expand
                description: 'You can get more detailed info about: [''image'', ''machine-type'',
                    ''network''] '
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListInstanceV1Response'
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table
            security:
            -   OAuth2:
                - virtual-machine.read
            x-mgc-description: List Virtual Machine instances
        post:
            tags:
            - instances
            summary: Create an instance asynchronously.
            description: "Creates a Virtual Machine instance in the current tenant\
                \ which is logged in.\n\nAn instance is ready for you to use when\
                \ it's in the running state.\n\n#### Notes\n- For the image data,\
                \ you can use the virtual-machine images list command\n        to\
                \ list all available images.\n- For the machine type data, you can\
                \ use the virtual-machine machine-types\n        list command to list\
                \ all available machine types.\n- You can verify the state of your\
                \ instance using the virtual-machine get\ncommand.\n\n#### Rules\n\
                \n- If you don't specify a VPC, the default VPC will be used. When\
                \ the\ndefault VPC is not available, the command will fail.\n- If\
                \ you don't specify an network interface, an default network interface\n\
                will be created.\n- You can either specify an image id or an image\
                \ name. If you specify\nboth, the image id will be used.\n- You can\
                \ either specify a machine type id or a machine type name. If\nyou\
                \ specify both, the machine type id will be used.\n- You can either\
                \ specify an VPC id or an VPC name. If you specify both,\nthe VPC\
                \ id will be used.\n- The user data must be a Base64 encoded string."
            operationId: instance_create_v1_v1_instances_post
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/InstanceCreateRequestV1Default'
            responses:
                '201':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        attach:
                            operationId: instance_attach_port_v1_instances__id__attach_put
                            description: Instance Attach Port
                            parameters:
                                id: $response.body#/id
                        detach:
                            operationId: instance_detach_port_v1_instances__id__detach_put
                            description: Instance Detach Port
                            parameters:
                                id: $response.body#/id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id
            security:
            -   OAuth2:
                - virtual-machine.write
            x-mgc-description: Create a Virtual Machine instance
    /v1/instances/{id}:
        delete:
            tags:
            - instances
            summary: Delete a instance asynchronously
            description: 'Deletes permanently an instance with the id provided in
                the current tenant

                which is logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so

                - you can get the id of the instance that you want to delete.


                #### Result

                - The attached ports will be deleted as well.</li>

                - The attached volumes will be detached.</li>'
            operationId: instance_delete_v1_v1_instances__id__delete
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            -   name: delete_public_ip
                in: query
                required: false
                schema:
                    type: boolean
                    default: false
                    title: Delete Public Ip
            responses:
                '204':
                    description: Successful Response
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
            x-mgc-description: Delete a Virtual Machine instance
        get:
            tags:
            - instances
            summary: Retrieve the details of an instance.
            description: 'Get an instance details for the current tenant which is
                logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,

                so you can get the id of the instance that you want to get details.


                - You can use the **expand** argument to get more details from the
                inner objects

                like image or type.'
            operationId: instance_details_v1_v1_instances__id__get
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            -   name: expand
                in: query
                required: false
                schema:
                    type: array
                    items:
                        type: string
                    description: 'You can get more detailed info about: [''image'',
                        ''machine-type'', ''network''] '
                    default: []
                    title: Expand
                description: 'You can get more detailed info about: [''image'', ''machine-type'',
                    ''network''] '
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InstanceV1Response'
                    links:
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        attach:
                            operationId: instance_attach_port_v1_instances__id__attach_put
                            description: Instance Attach Port
                            parameters:
                                id: $request.path.id
                        update/id:
                            operationId: instance_attach_port_v1_instances__id__attach_put
                            description: Instance Attach Port
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                        detach:
                            operationId: instance_detach_port_v1_instances__id__detach_put
                            description: Instance Detach Port
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        update/name:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        update/machine_type:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Changes a running or stopped instance machine
                                type for another one.
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        update/state/running:
                            description: Start a Virtual Machine instance
                            operationId: start_instance_v1_instances__id__start_post
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                        update/state/stopped:
                            description: Stop a Virtual Machine instance
                            operationId: stop_instance_v1_instances__id__stop_post
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                        update/state/suspended:
                            description: Suspend a Virtual Machine instance
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id,NAME:$.name,STATE:$.state,STATUS:$..status,MACHINE_TYPE:$.machine_type,IMAGE:$.image,
                CREATED_AT:$.created_at, SSH_KEY_NAME:$.ssh_key_name
            security:
            -   OAuth2:
                - virtual-machine.read
            x-mgc-description: Get a Virtual Machine instance details
            x-mgc-wait-termination:
                maxRetries: 30
                interval: 5s
                jsonPathQuery: $.result.status == "completed"
                errorJsonPathQuery: contains($.result.status, "error")
    /v1/instances/{id}/attach:
        put:
            tags:
            - instances
            summary: Instance Attach Port
            description: Attach new port at Instance
            operationId: instance_attach_port_v1_instances__id__attach_put
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            -   name: project_type
                in: query
                required: false
                schema:
                    allOf:
                    -   $ref: '#/components/schemas/ProjectTypeAll'
                    default: default
                    title: Project Type
                    type: string
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/PortID'
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/PortID'
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Retrieve the details of an instance.
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.id == $.owner.parameters.id
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete a instance asynchronously
                            parameters:
                                id: $request.path.id
                        detach:
                            operationId: instance_detach_port_v1_instances__id__detach_put
                            description: Instance Detach Port
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.id == $.owner.parameters.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Renames an instance.
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Changes a running or stopped instance machine
                                type for another one.
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stops a running instance.
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspends a running instance.
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
    /v1/instances/{id}/detach:
        put:
            tags:
            - instances
            summary: Instance Detach Port
            description: Detach a not primary port from Instance
            operationId: instance_detach_port_v1_instances__id__detach_put
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            -   name: project_type
                in: query
                required: false
                schema:
                    allOf:
                    -   $ref: '#/components/schemas/ProjectTypeAll'
                    default: default
                    title: Project Type
                    type: string
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/PortID'
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/PortID'
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Retrieve the details of an instance.
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.id == $.owner.parameters.id
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete a instance asynchronously
                            parameters:
                                id: $request.path.id
                        attach:
                            operationId: instance_attach_port_v1_instances__id__attach_put
                            description: Instance Attach Port
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.id == $.owner.parameters.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Renames an instance.
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Changes a running or stopped instance machine
                                type for another one.
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stops a running instance.
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspends a running instance.
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
    /v1/instances/{id}/reboot:
        post:
            tags:
            - instances
            summary: Reboot a running or suspended instance.
            description: 'Reboots a Virtual Machine instance with the id provided
                in the current tenant which is logged in.

                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get the id

                of the instance that you want to reboot.


                #### Rules

                - The instance must be in the running state.'
            operationId: reboot_instance_v1_instances__id__reboot_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        attach:
                            operationId: instance_attach_port_v1_instances__id__attach_put
                            description: Instance Attach Port
                            parameters:
                                id: $request.path.id
                        detach:
                            operationId: instance_detach_port_v1_instances__id__detach_put
                            description: Instance Detach Port
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: reboot
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/instances/{id}/rename:
        patch:
            tags:
            - instances
            summary: Renames an instance.
            description: 'Renames a Virtual Machine instance with the id provided
                in the current tenant which is logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get the id of

                the instance that you want to rename.'
            operationId: update_instance_name_v1_instances__id__rename_patch
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/IntanceUpdateRequest'
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.name == $.owner.parameters.name
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        attach:
                            operationId: instance_attach_port_v1_instances__id__attach_put
                            description: Instance Attach Port
                            parameters:
                                id: $request.path.id
                        detach:
                            operationId: instance_detach_port_v1_instances__id__detach_put
                            description: Instance Detach Port
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/instances/{id}/retype:
        post:
            tags:
            - instances
            summary: Changes a running or stopped instance machine type for another
                one.
            description: 'Changes a Virtual Machine instance machine type with the
                id provided in the current tenant

                which is logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get

                the id of the instance that you want to change the machine type.


                #### Rules

                - The instance must be in the running or stopped state.

                - The new machine type must be compatible with the current machine
                type.

                - The new machine type must be available in the same region as the
                current machine type.

                - You must provide either the machine type id or the machine type
                name, if you provide both,

                the machine type id will be used.'
            operationId: retype_instance_v1_instances__id__retype_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/InstanceRetypeRequest'
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.machine_type == $.owner.parameters.machine_type
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        attach:
                            operationId: instance_attach_port_v1_instances__id__attach_put
                            description: Instance Attach Port
                            parameters:
                                id: $request.path.id
                        detach:
                            operationId: instance_detach_port_v1_instances__id__detach_put
                            description: Instance Detach Port
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: retype
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/instances/{id}/start:
        post:
            tags:
            - instances
            summary: Starts a running or suspended instance.
            description: 'Starts a Virtual Machine instance with the id provided in
                the current tenant which is logged in.

                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,

                so you can get the id of the instance that you want to start.


                #### Rules

                - The instance must be in the stopped or suspended states.'
            operationId: start_instance_v1_instances__id__start_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        attach:
                            operationId: instance_attach_port_v1_instances__id__attach_put
                            description: Instance Attach Port
                            parameters:
                                id: $request.path.id
                        detach:
                            operationId: instance_detach_port_v1_instances__id__detach_put
                            description: Instance Detach Port
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: start
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/instances/{id}/stop:
        post:
            tags:
            - instances
            summary: Stops a running instance.
            description: 'Stops a Virtual Machine instance with the id provided in
                the current tenant which is logged in.

                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get the id of

                the instance that you want to stop.


                #### Rules

                - The instance must be in the running state.'
            operationId: stop_instance_v1_instances__id__stop_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        attach:
                            operationId: instance_attach_port_v1_instances__id__attach_put
                            description: Instance Attach Port
                            parameters:
                                id: $request.path.id
                        detach:
                            operationId: instance_detach_port_v1_instances__id__detach_put
                            description: Instance Detach Port
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: stop
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/instances/{id}/suspend:
        post:
            tags:
            - instances
            summary: Suspends a running instance.
            description: 'Suspends a Virtual Machine instance with the id provided
                in the current tenant which is logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get the id of

                the instance that you want to suspend.


                #### Rules

                - The instance must be in the running state.'
            operationId: suspend_instance_v1_instances__id__suspend_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        attach:
                            operationId: instance_attach_port_v1_instances__id__attach_put
                            description: Instance Attach Port
                            parameters:
                                id: $request.path.id
                        detach:
                            operationId: instance_detach_port_v1_instances__id__detach_put
                            description: Instance Detach Port
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: suspend
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/machine-types:
        get:
            tags:
            - machine-types
            summary: Retrieves all machine-types available in the region.
            description: Retrieves a list of machine types allowed for the current
                tenant which is logged in.
            operationId: list_instance_types_v1_v1_machine_types_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    description: limit the number of the results
                    default: 50
                    title: ' Limit'
                description: limit the number of the results
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    description: pagination for the results limited
                    default: 0
                    title: ' Offset'
                description: pagination for the results limited
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    description: order of the results using informed fields
                    default: created_at:asc
                    title: ' Sort'
                description: order of the results using informed fields
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InstanceTypesV1ListResponse'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.instance_types[*].id,NAME:$.instance_types[*].name,STATUS:$.instance_types[*].status,VCPUS:$.instance_types[*].vcpus,RAM:$.instance_types[*].ram,DISK:$.instance_types[*].disk,GPU:$.instance_types[*].gpu
            security:
            -   OAuth2:
                - virtual-machine.read
    /v1/snapshots:
        get:
            tags:
            - snapshots
            summary: Lists all snapshots in the current tenant.
            description: 'List all snapshots in the current tenant which is logged
                in.


                #### Notes

                - You can use the **expand** argument to get more details from the
                inner objects

                like image and machine types.'
            operationId: list_snapshots_v1_v1_snapshots_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    description: limit the number of the results
                    default: 50
                    title: ' Limit'
                description: limit the number of the results
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    description: pagination for the results limited
                    default: 0
                    title: ' Offset'
                description: pagination for the results limited
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    description: order of the results using informed fields
                    default: created_at:asc
                    title: ' Sort'
                description: order of the results using informed fields
            -   name: expand
                in: query
                required: false
                schema:
                    type: array
                    items:
                        type: string
                    description: 'You can get more detailed info about: [''image'',
                        ''machine-type''] '
                    default: []
                    title: Expand
                description: 'You can get more detailed info about: [''image'', ''machine-type''] '
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListSnapshotResponseV1'
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.snapshots[*].id,NAME:$.snapshots[*].name,STATE:$.snapshots[*].state,STATUS:$.snapshots[*].status,SIZE:$.snapshots[*].size,INSTANCE:$.snapshots[*].instance,
                CREATED_AT:$.snapshots[*].created_at
            security:
            -   OAuth2:
                - virtual-machine.read
        post:
            tags:
            - snapshots
            summary: Create a snapshot of a virtual machine asynchronously.
            description: 'Create a snapshot of a Virtual Machine in the current tenant
                which is logged in. </br>

                A Snapshot is ready for restore when it''s in available state.


                #### Notes

                - You can verify the state of snapshot using the snapshot get command,

                - To create a snapshot it''s mandatory inform a valid and unique name.


                #### Rules

                - It''s only possible to create a snapshot of a valid virtual machine.

                - It''s not possible to create 2 snapshots with the same name.

                - You can inform ID or Name from a Virtual Machine if both informed
                the priority will be ID.'
            operationId: snapshot_create_v1_v1_snapshots_post
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotCreateRequestV1'
            responses:
                '202':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                    links:
                        get:
                            operationId: snapshot_details_v1_v1_snapshots__id__get
                            description: Retrieve the details of an snapshot.
                            parameters:
                                id: $response.body#/id
                        restore:
                            operationId: restore_snapshot_v1_v1_snapshots__id__post
                            description: Restore a snapshot to a virtual machine
                            parameters:
                                id: $response.body#/id
                        delete:
                            operationId: delete_instance_type_v0_instance_types__instance_type_id__delete
                            description: Delete Instance Type
                            parameters:
                                id: $response.body#/id
                        rename:
                            operationId: rename_snapshot_v1_snapshots__id__rename_patch
                            description: Rename Instance Type
                            parameters:
                                id: $response.body#/id
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/snapshots/{id}:
        delete:
            tags:
            - snapshots
            summary: Delete a Snapshot asynchronously
            description: 'Deletes an snapshot with the id provided in the current
                tenant

                which is logged in.


                #### Notes

                - You can use the Snapshots list command to retrieve all snapshots,
                so

                - you can get the id of the snapshot that you want to delete.'
            operationId: snapshots_delete_v1_snapshots__id__delete
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
        get:
            tags:
            - snapshots
            summary: Retrieve the details of an snapshot.
            description: 'Get an snapshot details for the current tenant which is
                logged in.


                #### Notes

                - You can use the snapshots list command to retrieve all snapshots,

                so you can get the id of the snapshot that you want to get details.


                - You can use the **expand** argument to get more details from the
                inner objects

                like image or type.'
            operationId: snapshot_details_v1_v1_snapshots__id__get
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            -   name: expand
                in: query
                required: false
                schema:
                    type: array
                    items:
                        type: string
                    description: 'You can get more detailed info about: [''image'',
                        ''machine-type''] '
                    default: []
                    title: Expand
                description: 'You can get more detailed info about: [''image'', ''machine-type''] '
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SnapshotResponseV1'
                    links:
                        restore:
                            operationId: restore_snapshot_v1_v1_snapshots__id__post
                            description: Restore a snapshot to a virtual machine
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: snapshots_delete_v1_snapshots__id__delete
                            description: Delete a Snapshot asynchronously
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: rename_snapshot_v1_snapshots__id__rename_patch
                            description: Renames a snapshot
                            parameters:
                                id: $request.path.id
                        update/name:
                            operationId: rename_snapshot_v1_snapshots__id__rename_patch
                            description: Rename the snapshot
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id,NAME:$.name,STATE:$.state,STATUS:$.status,SIZE:$.size,INSTANCE:$.instance,
                CREATED_AT:$.created_at
            security:
            -   OAuth2:
                - virtual-machine.read
        post:
            tags:
            - snapshots
            summary: Restore a snapshot to a virtual machine
            description: 'Restore a snapshot of a Virtual Machine with the current
                tenant which is logged in. </br>

                A Snapshot is ready for restore when it''s in available state.


                #### Notes

                - You can verify the state of snapshot using the snapshot list command.

                - Use machine-types list to see all machine types available.


                #### Rules

                - To restore a snapshot  you have to inform the new virtual machine
                information.

                - You can choose a machine-type that has a disk equal or larger

                than the original virtual machine type.'
            operationId: restore_snapshot_v1_v1_snapshots__id__post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotRestoreRequestV1Default'
            responses:
                '202':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                    links:
                        get:
                            operationId: snapshot_details_v1_v1_snapshots__id__get
                            description: Retrieve the details of an snapshot.
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: snapshots_delete_v1_snapshots__id__delete
                            description: Delete a Snapshot asynchronously
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: rename_snapshot_v1_snapshots__id__rename_patch
                            description: Renames a snapshot
                            parameters:
                                id: $request.path.id
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: restore
            x-mgc-output-flag: table=ID:$.id
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/snapshots/{id}/rename:
        patch:
            tags:
            - snapshots
            summary: Renames a snapshot
            description: 'Renames a Snapshot with the id provided in the current tenant
                which is logged in.


                #### Notes

                - You can use the snapshots list command to retrieve all snapshots,
                so you can get the id of

                the snapshot that you want to rename.'
            operationId: rename_snapshot_v1_snapshots__id__rename_patch
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotRenameRequest'
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: snapshot_details_v1_v1_snapshots__id__get
                            description: Retrieve the details of an snapshot.
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.name == $.owner.parameters.name
                        restore:
                            operationId: restore_snapshot_v1_v1_snapshots__id__post
                            description: Restore a snapshot to a virtual machine
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: snapshots_delete_v1_snapshots__id__delete
                            description: Delete a Snapshot asynchronously
                            parameters:
                                id: $request.path.id
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
components:
    schemas:
        BackupRequest:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
                virtual_machine:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Virtual Machine
                backup_type:
                    $ref: '#/components/schemas/BackupType'
                rotation:
                    title: Rotation
                    default: 1
                    nullable: true
                    type: integer
                    exclusiveMinimum: true
                    minimum: 1.0
            type: object
            required:
            - name
            - virtual_machine
            - backup_type
            title: BackupRequest
            example:
                backup_type: daily
                name: backup name
                rotation: 1
                virtual_machine:
                    id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
        BackupType:
            type: string
            title: BackupType
            enum:
            - daily
        CreateResponse:
            properties:
                id:
                    type: string
                    title: Id
            type: object
            required:
            - id
            title: CreateResponse
            example:
                id: 9ec75090-2872-4f51-8111-53d05d96d2c6
        ErrorMessageV1:
            properties:
                message:
                    title: Message
                    type: string
                slug:
                    title: Slug
                    type: string
            type: object
            required:
            - slug
            - message
            title: ErrorMessageV1
            example:
                message: Unauthorized
                slug: Unauthorized
        ExceptionModel:
            properties:
                slug:
                    type: string
                    title: Slug
                message:
                    type: string
                    title: Message
                details:
                    type: object
                    title: Details
            type: object
            required:
            - slug
            - message
            - details
            title: ExceptionModel
        HTTPValidationError:
            properties:
                message:
                    title: Message
                    type: string
                slug:
                    title: Slug
                    type: string
            type: object
            title: HTTPValidationError
            example:
                message: Unauthorized
                slug: Unauthorized
        ID:
            properties:
                id:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Id
            type: object
            required:
            - id
            title: ID
            example:
                id: 9ec75090-2872-4f51-8111-53d05d96d2c6
        ImageExtendResponse:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                platform:
                    title: Platform
                    nullable: true
                    type: string
            type: object
            required:
            - id
            - name
            title: ImageExtendResponse
            example:
                id: 847ceef4-ff96-4762-895d-5e94e410ddeb
                name: ubuntu
                platform: linux
        ImageInstanceV1Response:
            properties:
                id:
                    type: string
                    title: Id
            additionalProperties: true
            type: object
            required:
            - id
            title: ImageInstanceV1Response
        ImageReqMin:
            properties:
                vcpu:
                    type: integer
                    title: Vcpu
                ram:
                    type: integer
                    title: Ram
                disk:
                    type: integer
                    title: Disk
            type: object
            required:
            - vcpu
            - ram
            - disk
            title: ImageReqMin
        ImageResponseExternalV1:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                status:
                    $ref: '#/components/schemas/ImageV1Status'
                version:
                    title: Version
                    nullable: true
                    type: string
                platform:
                    title: Platform
                    nullable: true
                    type: string
                release_at:
                    title: Release At
                    nullable: true
                    type: string
                    example: '2022-01-01T00:00:10Z'
                end_standard_support_at:
                    title: End Standard Support At
                    nullable: true
                    type: string
                    example: '2022-01-01T00:00:10Z'
                end_life_at:
                    title: End Life At
                    nullable: true
                    type: string
                    example: '2022-01-01T00:00:10Z'
                minimum_requirements:
                    $ref: '#/components/schemas/ImageReqMin'
            type: object
            required:
            - id
            - name
            - status
            - minimum_requirements
            title: ImageResponseExternalV1
            example:
                end_life_at: '2022-06-10T18:33:12Z'
                end_standard_support_at: '2022-06-10T18:33:12Z'
                id: c47e974f-8002-46e9-8a63-d66505be2aa1
                minimum_requirements:
                    disk: 2
                    ram: 1
                    vcpu: 1
                name: ubuntu 22.10
                platform: linux
                release_at: '2022-06-10T18:33:12Z'
                status: active
                version: '22.10'
        ImageV1Status:
            type: string
            enum:
            - active
            - deprecated
            - deleted
            - pending
            - creating
            - importing
            - error
            title: ImageV1Status
        InstanceCreateRequestV1Default:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
                machine_type:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Machine Type
                ssh_key_name:
                    type: string
                    minLength: 0
                    title: Ssh Key Name
                image:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Image
                availability_zone:
                    title: Availability Zone
                    nullable: true
                    type: string
                    maxLength: 255
                    minLength: 1
                network:
                    $ref: '#/components/schemas/InstanceCreateRequestV1NetworkDefault'
                user_data:
                    title: User Data
                    nullable: true
                    type: string
                    maxLength: 65000
                    minLength: 1
            type: object
            required:
            - name
            - machine_type
            - ssh_key_name
            - image
            - network
            title: InstanceCreateRequestV1Default
            example:
                availability_zone: br-regiao-1a
                image:
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                machine_type:
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                name: instance name
                network:
                    associate_public_ip: true
                    nic:
                        id: c8719fd8-7a48-4dbf-b4d8-74f71fa67422
                        security_groups:
                        -   id: f273fbde-2ddf-4dcd-8c41-342671ac0d17
                        -   id: 02a2acf3-d6db-4424-ac97-0254cb9c329e
                    vpc:
                        id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                ssh_key_name: keypair_name_here
                user_data: some_base64_script
        InstanceCreateRequestV1NetworkDefault:
            properties:
                vpc:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Vpc
                    default:
                        name: default
                nic:
                    nullable: true
                    $ref: '#/components/schemas/NetworkNic'
                associate_public_ip:
                    type: boolean
                    title: Associate Public Ip
                    default: true
            type: object
            title: InstanceCreateRequestV1NetworkDefault
            example:
                associate_public_ip: true
                nic:
                    id: c8719fd8-7a48-4dbf-b4d8-74f71fa67422
                    security_groups:
                    -   id: f273fbde-2ddf-4dcd-8c41-342671ac0d17
                    -   id: 02a2acf3-d6db-4424-ac97-0254cb9c329e
                vpc:
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
        InstanceResponseSnapshotV1:
            properties:
                id:
                    type: string
                    title: Id
                image:
                    anyOf:
                    -   $ref: '#/components/schemas/ImageInstanceV1Response'
                    -   $ref: '#/components/schemas/ImageExtendResponse'
                    title: Image
                machine_type:
                    anyOf:
                    -   $ref: '#/components/schemas/InstanceTypeForInstanceV1Response'
                    -   $ref: '#/components/schemas/InstanceTypesExtendResponse'
                    title: Machine Type
            type: object
            required:
            - id
            - image
            - machine_type
            title: InstanceResponseSnapshotV1
            example:
                instance:
                    id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    image:
                        id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    machine_type:
                        id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
        InstanceRetypeRequest:
            properties:
                machine_type:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Machine Type
            type: object
            required:
            - machine_type
            title: InstanceRetypeRequest
            example:
                machine_type:
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
        InstanceTypeForInstanceV1Response:
            properties:
                id:
                    type: string
                    title: Id
            additionalProperties: true
            type: object
            required:
            - id
            title: InstanceTypeForInstanceV1Response
        InstanceTypesExtendResponse:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                vcpus:
                    type: integer
                    title: Vcpus
                ram:
                    type: integer
                    title: Ram
                disk:
                    type: integer
                    title: Disk
            type: object
            required:
            - id
            - name
            - vcpus
            - ram
            - disk
            title: InstanceTypesExtendResponse
            example:
                disk: 10
                id: 3a4dc05b-eb10-42ec-8c0c-848e06f7aded
                name: abc.small
                ram: 2
                vcpus: 2
        InstanceTypesV1ListResponse:
            properties:
                instance_types:
                    items:
                        anyOf:
                        -   $ref: '#/components/schemas/InstanceTypesV1PortalResponse'
                        -   $ref: '#/components/schemas/InstanceTypesV1Response'
                    type: array
                    title: Instance Types
            type: object
            required:
            - instance_types
            title: InstanceTypesV1ListResponse
            example:
                instance_types:
                -   disk: 10
                    gpu: 1
                    id: 3a4dc05b-eb10-42ec-8c0c-848e06f7aded
                    name: abc.small
                    ram: 2
                    sku: some_sku
                    status: active
                    vcpus: 2
        InstanceTypesV1PortalResponse:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                vcpus:
                    type: integer
                    title: Vcpus
                ram:
                    type: integer
                    title: Ram
                disk:
                    type: integer
                    title: Disk
                gpu:
                    type: integer
                    title: Gpu
                    default: 0
                status:
                    type: string
                    title: Status
                sku:
                    type: string
                    title: Sku
            type: object
            required:
            - id
            - name
            - vcpus
            - ram
            - disk
            - status
            - sku
            title: InstanceTypesV1PortalResponse
            example:
                disk: 10
                gpu: 1
                id: 3a4dc05b-eb10-42ec-8c0c-848e06f7aded
                name: abc.small
                ram: 2
                sku: some_sku
                status: active
                vcpus: 2
        InstanceTypesV1Response:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                vcpus:
                    type: integer
                    title: Vcpus
                ram:
                    type: integer
                    title: Ram
                disk:
                    type: integer
                    title: Disk
                gpu:
                    type: integer
                    title: Gpu
                    default: 0
                status:
                    type: string
                    title: Status
                sku:
                    type: string
                    title: Sku
            type: object
            required:
            - id
            - name
            - vcpus
            - ram
            - disk
            - status
            - sku
            title: InstanceTypesV1Response
            example:
                disk: 10
                gpu: 1
                id: 3a4dc05b-eb10-42ec-8c0c-848e06f7aded
                name: abc.small
                ram: 2
                sku: some_sku
                status: active
                vcpus: 2
        InstanceV1Response:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    title: Name
                    nullable: true
                    type: string
                machine_type:
                    anyOf:
                    -   $ref: '#/components/schemas/InstanceTypeForInstanceV1Response'
                    -   $ref: '#/components/schemas/InstanceTypesExtendResponse'
                    title: Machine Type
                image:
                    anyOf:
                    -   $ref: '#/components/schemas/ImageInstanceV1Response'
                    -   $ref: '#/components/schemas/ImageExtendResponse'
                    title: Image
                status:
                    $ref: '#/components/schemas/InstanceV1Status'
                    x-mgc-transforms:
                    -   type: lowercase
                state:
                    $ref: '#/components/schemas/InstanceV1State'
                    x-mgc-transforms:
                    -   type: lowercase
                user_data:
                    title: User Data
                    nullable: true
                    type: string
                created_at:
                    type: string
                    title: Created At
                    example: '2022-01-01T00:00:10Z'
                updated_at:
                    title: Updated At
                    nullable: true
                    type: string
                    example: '2022-01-01T00:00:10Z'
                ssh_key_name:
                    title: Ssh Key Name
                    nullable: true
                    type: string
                availability_zone:
                    title: Availability Zone
                    nullable: true
                    type: string
                network:
                    anyOf:
                    -   $ref: '#/components/schemas/NetworkPortsV1'
                    -   $ref: '#/components/schemas/NetworkPortsV1Expand'
                    title: Network
                    nullable: true
                error:
                    nullable: true
                    $ref: '#/components/schemas/ErrorMessageV1'
            type: object
            required:
            - id
            - machine_type
            - image
            - status
            - state
            - created_at
            title: InstanceV1Response
            example:
                availability_zone: br-regiao-1a
                created_at: '2022-06-10T18:33:12Z'
                error:
                    message: An error occurred while creating your instance. Please
                        contact our support for assistance.
                    slug: create_instance.keypair.not_found
                id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                image:
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                machine_type:
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                name: instance name
                network:
                    ports:
                    -   id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                ssh_key_name: keypair_name_here
                state: running
                status: completed
                updated_at: '2022-06-11T18:33:12Z'
                user_data: some_base_64_str
        InstanceV1State:
            type: string
            enum:
            - new
            - running
            - stopped
            - suspended
            - deleted
            title: InstanceV1State
        InstanceV1Status:
            type: string
            enum:
            - attach_nic_pending
            - detach_nic_pending
            - provisioning
            - creating
            - creating_error
            - creating_network_error
            - creating_error_quota
            - creating_error_quota_ram
            - creating_error_quota_vcpu
            - creating_error_quota_disk
            - creating_error_quota_instance
            - creating_error_quota_floating_ip
            - completed
            - retyping_pending
            - retyping
            - retyping_confirmed
            - retyping_error
            - retyping_error_quota
            - stopping_pending
            - stopping
            - suspending_pending
            - suspending
            - rebooting_pending
            - rebooting
            - starting_pending
            - starting
            - deleting_pending
            - deleting
            - deleting_error
            - deleted
            title: InstanceV1Status
        IntanceUpdateRequest:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
            type: object
            required:
            - name
            title: IntanceUpdateRequest
            example:
                name: new instance name
        IpAddressExpand:
            properties:
                publicIpAddress:
                    title: Publicipaddress
                    nullable: true
                    type: string
                privateIpAddress:
                    type: string
                    title: Privateipaddress
                ipV6Address:
                    title: Ipv6Address
                    nullable: true
                    type: string
            type: object
            required:
            - privateIpAddress
            title: IpAddressExpand
        ListImageExternalV1:
            properties:
                images:
                    items:
                        $ref: '#/components/schemas/ImageResponseExternalV1'
                    type: array
                    title: Images
            type: object
            required:
            - images
            title: ListImageExternalV1
            example:
                images:
                -   end_life_at: '2022-06-10T18:33:12Z'
                    end_standard_support_at: '2022-06-10T18:33:12Z'
                    id: c47e974f-8002-46e9-8a63-d66505be2aa1
                    minimum_requirements:
                        disk: 2
                        ram: 1
                        vcpu: 1
                    name: ubuntu 22.10
                    platform: linux
                    release_at: '2022-06-10T18:33:12Z'
                    status: active
                    version: '22.10'
        ListInstanceV1Response:
            properties:
                instances:
                    items:
                        $ref: '#/components/schemas/InstanceV1Response'
                    type: array
                    title: Instances
            type: object
            required:
            - instances
            title: ListInstanceV1Response
            example:
                instances:
                -   availability_zone: br-regiao-1a
                    created_at: '2022-06-10T18:33:12Z'
                    error:
                        message: An error occurred while creating your instance. Please
                            contact our support for assistance.
                        slug: create_instance.keypair.not_found
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    image:
                        id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    machine_type:
                        id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    name: instance name
                    network:
                        ports:
                        -   id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    ssh_key_name: keypair_name_here
                    state: running
                    status: completed
                    updated_at: '2022-06-11T18:33:12Z'
                    user_data: base64_data
        ListSnapshotResponseV1:
            properties:
                snapshots:
                    items:
                        $ref: '#/components/schemas/SnapshotResponseV1'
                    type: array
                    title: Snapshots
            type: object
            required:
            - snapshots
            title: ListSnapshotResponseV1
            example:
                snapshots:
                -   created_at: '2022-06-10T18:33:12Z'
                    id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    instance:
                        id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                        image:
                            id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                        machine_type:
                            id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    name: snapshot name
                    size: 1000
                    state: available
                    status: completed
                    updated_at: '2022-06-11T18:33:12Z'
        Name:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
            type: object
            required:
            - name
            title: Name
            example:
                name: some_resource_name
        NetworkNic:
            properties:
                id:
                    title: Id
                    nullable: true
                    type: string
                    maxLength: 255
                    minLength: 1
                security_groups:
                    items:
                        $ref: '#/components/schemas/ID'
                    type: array
                    title: Security Groups
            type: object
            required:
            - security_groups
            title: NetworkNic
        NetworkPortsV1:
            properties:
                ports:
                    items:
                        $ref: '#/components/schemas/PortID'
                    type: array
                    title: Ports
            type: object
            required:
            - ports
            title: NetworkPortsV1
        NetworkPortsV1Expand:
            properties:
                vpc:
                    nullable: true
                    $ref: '#/components/schemas/VpcV1Expand'
                ports:
                    title: Ports
                    nullable: true
                    items:
                        $ref: '#/components/schemas/PortV1Expand'
                    type: array
            type: object
            title: NetworkPortsV1Expand
        PortID:
            properties:
                id:
                    type: string
                    title: Id
            type: object
            required:
            - id
            title: PortID
            example:
                id: c47e974f-8002-46e9-8a63-d66505be2aa1
        PortV1Expand:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                ipAddresses:
                    $ref: '#/components/schemas/IpAddressExpand'
            type: object
            required:
            - id
            - name
            - ipAddresses
            title: PortV1Expand
        ProjectTypeAll:
            type: string
            enum:
            - dbaas
            - iamaas
            - k8saas
            - mngsvc
            - default
            title: ProjectTypeAll
        SnapshotCreateRequestV1:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
                virtual_machine:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Virtual Machine
            type: object
            required:
            - name
            - virtual_machine
            title: SnapshotCreateRequestV1
            example:
                name: snapshot name
                virtual_machine:
                    id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
        SnapshotRenameRequest:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
            type: object
            required:
            - name
            title: SnapshotRenameRequest
            example:
                name: new snapshot name
        SnapshotResponseV1:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    title: Name
                    nullable: true
                    type: string
                status:
                    type: string
                    title: Status
                state:
                    type: string
                    title: State
                created_at:
                    type: string
                    title: Created At
                    example: '2022-01-01T00:00:10Z'
                updated_at:
                    title: Updated At
                    nullable: true
                    type: string
                    example: '2022-01-01T00:00:10Z'
                size:
                    type: integer
                    title: Size
                instance:
                    $ref: '#/components/schemas/InstanceResponseSnapshotV1'
            type: object
            required:
            - id
            - status
            - state
            - created_at
            - size
            - instance
            title: SnapshotResponseV1
            example:
                created_at: '2022-06-10T18:33:12Z'
                id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                instance:
                    id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    image:
                        id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    machine_type:
                        id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                name: snapshot name
                size: 1000
                state: available
                status: completed
                updated_at: '2022-06-11T18:33:12Z'
        SnapshotRestoreRequestV1Default:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
                machine_type:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Machine Type
                ssh_key_name:
                    type: string
                    minLength: 0
                    title: Ssh Key Name
                availability_zone:
                    title: Availability Zone
                    nullable: true
                    type: string
                    maxLength: 255
                    minLength: 1
                network:
                    $ref: '#/components/schemas/InstanceCreateRequestV1NetworkDefault'
                user_data:
                    title: User Data
                    nullable: true
                    type: string
                    maxLength: 65000
                    minLength: 1
            type: object
            required:
            - name
            - machine_type
            - ssh_key_name
            - network
            title: SnapshotRestoreRequestV1Default
            example:
                availability_zone: br-regiao-1a
                machine_type:
                    id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                name: instance name
                network:
                    associate_public_ip: true
                    vpc:
                        id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                ssh_key_name: keypair_name_here
                user_data: some_base64_script
        ValidationError:
            properties:
                message:
                    title: Message
                    type: string
                slug:
                    title: Slug
                    type: string
            type: object
            required:
            - loc
            - msg
            - type
            title: ValidationError
            example:
                message: Unauthorized
                slug: Unauthorized
        VpcV1Expand:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
            type: object
            required:
            - id
            - name
            title: VpcV1Expand
tags:
-   name: instances
    description: Operations with instances, including create, delete, start, stop,
        reboot and other actions.
-   name: images
    description: Operations with images for instances.
-   name: machine-types
    description: Operations with machine types for instances.
-   name: snapshots
    description: Operations with snapshots for instances.
$id: https://virtual-machine.jaxyendy.com/openapi.json
servers:
-   url: https://{env}/{region}/compute
    variables:
        region:
            description: Region to reach the service
            default: br-se1
            enum:
            - br-ne-1
            - br-se1
            - br-mgl1
            x-mgc-transforms:
            -   type: translate
                allowMissing: true
                translations:
                -   from: br-ne1
                    to: br-ne-1
                -   from: br-mgl1
                    to: br-se-1
        env:
            description: Environment to use
            default: api.magalu.cloud
            enum:
            - api.magalu.cloud
            - api.pre-prod.jaxyendy.com
            x-mgc-transforms:
            -   type: translate
                translations:
                -   from: prod
                    to: api.magalu.cloud
                -   from: pre-prod
                    to: api.pre-prod.jaxyendy.com
