openapi: 3.0.3
info:
    title: Virtual Machine Api Product
    description: Virtual Machine Api Product
    contact:
        name: IaaS Products
        url: https://github.com/luizalabs
        email: kassio.junqueira@luizalabs.com
    version: 1.199.0
paths:
    /v0/images:
        get:
            tags:
            - images
            summary: List Images
            description: Retrive a list of images
            operationId: list_images_v0_images_get
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListImageResponse'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.read
        post:
            tags:
            - images
            summary: Create Image
            description: Creates images only in DB
            operationId: create_image_v0_images_post
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ImageRequest'
                required: true
            responses:
                '201':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ImageResponse'
                    links:
                        delete:
                            operationId: delete_image_v0_images__image_id__delete
                            description: Delete Image
                            parameters:
                                image_id: $request.body#/id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            deprecated: true
            security:
            -   OAuth2:
                - virtual-machine.write
    /v0/images/{image_id}:
        delete:
            tags:
            - images
            summary: Delete Image
            description: Deletes images only in DB
            operationId: delete_image_v0_images__image_id__delete
            parameters:
            -   name: image_id
                in: path
                required: true
                schema:
                    type: string
                    title: Image Id
            responses:
                '204':
                    description: Successful Response
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            security:
            -   OAuth2:
                - virtual-machine.write
    /v0/images_all:
        get:
            tags:
            - images
            summary: List Images All
            description: Retrive a list of all images
            operationId: list_images_all_v0_images_all_get
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListImageInternalResponse'
            security:
            -   OAuth2:
                - virtual-machine.read
    /v0/instance_types:
        get:
            tags:
            - instance types
            summary: List Instance Types
            description: Returns a list of instance types
            operationId: list_instance_types_v0_instance_types_get
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InstanceTypesListResponse'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.read
        post:
            tags:
            - instance types
            summary: Create Instance Type
            description: Creates a instance type in DB only
            operationId: create_instance_type_v0_instance_types_post
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/InstanceTypesRequest'
                required: true
            responses:
                '201':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InstanceTypesResponse'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            security:
            -   OAuth2:
                - virtual-machine.write
    /v0/instance_types/{instance_type_id}:
        delete:
            tags:
            - instance types
            summary: Delete Instance Type
            description: Deletes a instance type in DB only
            operationId: delete_instance_type_v0_instance_types__instance_type_id__delete
            parameters:
            -   name: instance_type_id
                in: path
                required: true
                schema:
                    type: string
                    title: Instance Type Id
            responses:
                '204':
                    description: Successful Response
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            security:
            -   OAuth2:
                - virtual-machine.write
    /v0/instance_types_all:
        get:
            tags:
            - instance types
            summary: List Instance Types All
            description: Returns a list of all instance types
            operationId: list_instance_types_all_v0_instance_types_all_get
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InstanceTypeDbListResponse'
            security:
            -   OAuth2:
                - virtual-machine.read
    /v0/instances:
        get:
            tags:
            - instances
            summary: List Instances
            description: Returns a list of instances for a provided tenant_id
            operationId: list_instances_v0_instances_get
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListInstanceResponse'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.read
        post:
            tags:
            - instances
            summary: Instance Create
            description: Create a instance asynchronously
            operationId: instance_create_v0_instances_post
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/InstanceCreateRequest'
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                    links:
                        get:
                            operationId: instance_details_v0_instances__id__get
                            description: Instance Details
                            parameters:
                                id: $response.body#/id
                        update:
                            operationId: update_instance_status_v0_instances__id__patch
                            description: Update Instance Status
                            parameters:
                                id: $response.body#/id
                        delete:
                            operationId: instance_delete_v0_instances__id__delete
                            description: Instance Delete
                            parameters:
                                id: $response.body#/id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
    /v0/instances/{id}:
        delete:
            tags:
            - instances
            summary: Instance Delete
            description: Delete a instance
            operationId: instance_delete_v0_instances__id__delete
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    title: Id
                    type: string
            -   name: delete_public_ip
                in: query
                required: false
                schema:
                    type: boolean
                    default: false
                    title: Delete Public Ip
            responses:
                '204':
                    description: Successful Response
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
        get:
            tags:
            - instances
            summary: Instance Details
            description: Returns a instance details
            operationId: instance_details_v0_instances__id__get
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InstanceResponse'
                    links:
                        update:
                            operationId: update_instance_status_v0_instances__id__patch
                            description: Update Instance Status
                            parameters:
                                id: $request.path.id
                        update/status:
                            operationId: update_instance_status_v0_instances__id__patch
                            description: Update Instance Status
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                        delete:
                            operationId: instance_delete_v0_instances__id__delete
                            description: Instance Delete
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.read
        patch:
            tags:
            - instances
            summary: Update Instance Status
            description: Update a instance
            operationId: update_instance_status_v0_instances__id__patch
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    title: Id
                    type: string
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/InstancePatchRequest'
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v0_instances__id__get
                            description: Instance Details
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.status == $.owner.parameters.status
                        delete:
                            operationId: instance_delete_v0_instances__id__delete
                            description: Instance Delete
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
    /v0/instances/{id}/events:
        get:
            tags:
            - instances
            summary: List Instance Events
            description: Returns a list for all events in a instance
            operationId: list_instance_events_v0_instances__id__events_get
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListInstanceEventResponse'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.read
    /v0/instances/{id}/events/{event_id}:
        get:
            tags:
            - instances
            summary: Details Instance Event
            description: Returns the event details for the instance
            operationId: details_instance_event_v0_instances__id__events__event_id__get
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            -   name: event_id
                in: path
                required: true
                schema:
                    type: string
                    title: Event Id
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InstanceEventDetailsResponse'
                    links:
                        list:
                            operationId: list_instance_events_v0_instances__id__events_get
                            description: List Instance Events
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.read
    /v0/keypairs:
        get:
            tags:
            - keypairs
            summary: List Keypairs
            description: Returns a list of keypairs from a provided tenant_id
            operationId: list_keypairs_v0_keypairs_get
            deprecated: true
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/KeypairsListResponse'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.read
        post:
            tags:
            - keypairs
            summary: Create Keypair
            description: Create a keypair
            operationId: create_keypair_v0_keypairs_post
            deprecated: true
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/KeypairRequest'
            responses:
                '201':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/KeypairResponse'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
    /v0/keypairs/{keypair_name}:
        delete:
            tags:
            - keypairs
            summary: Delete Keypair
            description: Delete a keypair
            operationId: delete_keypair_v0_keypairs__keypair_name__delete
            deprecated: true
            parameters:
            -   name: keypair_name
                in: path
                required: true
                schema:
                    type: string
                    title: Keypair Name
            responses:
                '204':
                    description: Successful Response
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
        post:
            tags:
            - keypairs
            summary: Create Private Public Key
            description: Create a private and public key
            operationId: create_private_public_key_v0_keypairs__keypair_name__post
            deprecated: true
            parameters:
            -   name: keypair_name
                in: path
                required: true
                schema:
                    type: string
                    title: Keypair Name
            responses:
                '201':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/KeypairCreateResponse'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
    /v0/snapshots:
        get:
            tags:
            - snapshots
            summary: List Snapshots
            description: List snapshots by tenant
            operationId: List_snapshots_v0_snapshots_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    default: 50
                    title: ' Limit'
                    minimum: 0
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    default: 0
                    title: ' Offset'
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    default: created_at:asc
                    title: ' Sort'
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SnapshotListResponse'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.read
        post:
            tags:
            - snapshots
            summary: Create Snapshot
            description: Create a snapshot
            operationId: create_snapshot_v0_snapshots_post
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotCreateRequest'
            responses:
                '202':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                    links:
                        internal:
                            operationId: update_internal_snapshot_v0_snapshots_internal__id__patch
                            description: Update Internal Snapshot
                            parameters:
                                id: $response.body#/id
                        create-id:
                            operationId: restore_snapshot_v0_snapshots__id__post
                            description: Restore Snapshot
                            parameters:
                                id: $response.body#/id
                        delete:
                            operationId: delete_snapshot_v0_snapshots__id__delete
                            description: Delete Snapshot
                            parameters:
                                id: $response.body#/id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
    /v0/snapshots/internal/{id}:
        patch:
            tags:
            - snapshots
            summary: Update Internal Snapshot
            description: update internal snapshot
            operationId: update_internal_snapshot_v0_snapshots_internal__id__patch
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotUpdateInternalRequest'
            responses:
                '204':
                    description: Successful Response
                    links:
                        create-id:
                            operationId: restore_snapshot_v0_snapshots__id__post
                            description: Restore Snapshot
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: delete_snapshot_v0_snapshots__id__delete
                            description: Delete Snapshot
                            parameters:
                                id: $request.path.id
                        update:
                            operationId: update_snapshots_with_urp_snapshot_id_v0_snapshots__urp_snapshot_id__patch
                            description: Update Snapshots With Urp Snapshot Id
                            parameters:
                                urp_snapshot_id: $request.body#/urp_snapshot_id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            security:
            -   OAuth2:
                - virtual-machine.write
    /v0/snapshots/{id}:
        delete:
            tags:
            - snapshots
            summary: Delete Snapshot
            description: Delete a snapshot
            operationId: delete_snapshot_v0_snapshots__id__delete
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            responses:
                '204':
                    description: Successful Response
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
        post:
            tags:
            - snapshots
            summary: Restore Snapshot
            description: Restore a snapshot
            operationId: restore_snapshot_v0_snapshots__id__post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotRestoreRequest'
            responses:
                '202':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                    links:
                        internal:
                            operationId: update_internal_snapshot_v0_snapshots_internal__id__patch
                            description: Update Internal Snapshot
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: delete_snapshot_v0_snapshots__id__delete
                            description: Delete Snapshot
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
    /v0/snapshots/{urp_snapshot_id}:
        patch:
            tags:
            - snapshots
            summary: Update Snapshots With Urp Snapshot Id
            description: update snapshot with urp snapshot id
            operationId: update_snapshots_with_urp_snapshot_id_v0_snapshots__urp_snapshot_id__patch
            parameters:
            -   name: urp_snapshot_id
                in: path
                required: true
                schema:
                    type: string
                    title: Urp Snapshot Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotUpdateRequest'
            responses:
                '204':
                    description: Successful Response
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            security:
            -   OAuth2:
                - virtual-machine.write
    /v0/usage:
        get:
            tags:
            - usage
            summary: Get Usage
            description: Retrieve usage for specific quota_slug (vcpus, ram, disk
                & instances)
            operationId: get_usage_v0_usage_get
            parameters:
            -   name: quota_slug
                in: query
                required: false
                schema:
                    title: Quota Slug
                    nullable: true
                    type: string
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListResourceUsage'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            security:
            -   OAuth2:
                - virtual-machine.read
    /v1/images:
        get:
            tags:
            - images
            summary: Retrieves all images available in the region.
            description: Retrieve a list of images allowed for the current tenant
                which is logged in.
            operationId: list_images_v1_v1_images_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    default: 50
                    title: ' Limit'
                    minimum: 0
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    default: 0
                    title: ' Offset'
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    default: platform:asc,end_life_at:desc
                    title: ' Sort'
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListImageExternalV1'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.images[*].id,NAME:$.images[*].name,VERSION:$.images[*].version,PLATFORM:$.images[*].platform,END_STANDARD_SUPPORT_AT:$.images[*].end_standard_support_at,STATUS:$.images[*].status
            security:
            -   OAuth2:
                - virtual-machine.read
    /v1/instances:
        get:
            tags:
            - instances
            summary: Lists all instances in the current tenant.
            description: 'List Virtual Machine instances in the current tenant which
                is logged in.


                #### Notes

                - You can use the **extend** argument to get more details from the
                inner objects

                like image or type.'
            operationId: list_instances_v1_v1_instances_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    default: 50
                    title: ' Limit'
                    minimum: 0
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    default: 0
                    title: ' Offset'
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    default: created_at:asc
                    title: ' Sort'
            -   name: expand
                in: query
                required: false
                schema:
                    type: array
                    items:
                        type: string
                    description: 'You can get more detailed info about: [''image'',
                        ''machine-type'', ''network''] '
                    default: []
                    title: Expand
                description: 'You can get more detailed info about: [''image'', ''machine-type'',
                    ''network''] '
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListInstanceV1Response'
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table
            security:
            -   OAuth2:
                - virtual-machine.read
            x-mgc-description: List Virtual Machine instances
        post:
            tags:
            - instances
            summary: Create an instance asynchronously.
            description: "Creates a Virtual Machine instance in the current tenant\
                \ which is logged in.\n\nAn instance is ready for you to use when\
                \ it's in the running state.\n\n#### Notes\n- For the image data,\
                \ you can use the virtual-machine images list command\n        to\
                \ list all available images.\n- For the machine type data, you can\
                \ use the virtual-machine machine-types\n        list command to list\
                \ all available machine types.\n- You can verify the state of your\
                \ instance using the virtual-machine get\ncommand.\n\n#### Rules\n\
                \n- If you don't specify a VPC, the default VPC will be used. When\
                \ the\ndefault VPC is not available, the command will fail.\n- If\
                \ you don't specify an network interface, an default network interface\n\
                will be created.\n- You can either specify an image id or an image\
                \ name. If you specify\nboth, the image id will be used.\n- You can\
                \ either specify a machine type id or a machine type name. If\nyou\
                \ specify both, the machine type id will be used.\n- You can either\
                \ specify an VPC id or an VPC name. If you specify both,\nthe VPC\
                \ id will be used.\n- The user data must be a Base64 encoded string."
            operationId: instance_create_v1_v1_instances_post
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/InstanceCreateRequestV1'
            responses:
                '201':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $response.body#/id
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id
            security:
            -   OAuth2:
                - virtual-machine.write
            x-mgc-description: Create a Virtual Machine instance
    /v1/instances/{id}:
        delete:
            tags:
            - instances
            summary: Delete a instance asynchronously
            description: 'Deletes permanently an instance with the id provided in
                the current tenant

                which is logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so

                - you can get the id of the instance that you want to delete.


                #### Result

                - The attached ports will be deleted as well.</li>

                - The attached volumes will be detached.</li>'
            operationId: instance_delete_v1_v1_instances__id__delete
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            -   name: delete_public_ip
                in: query
                required: false
                schema:
                    type: boolean
                    default: false
                    title: Delete Public Ip
            responses:
                '204':
                    description: Successful Response
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
            x-mgc-description: Delete a Virtual Machine instance
        get:
            tags:
            - instances
            summary: Retrieve the details of an instance.
            description: 'Get an instance details for the current tenant which is
                logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,

                so you can get the id of the instance that you want to get details.


                - You can use the **expand** argument to get more details from the
                inner objects

                like image or type.'
            operationId: instance_details_v1_v1_instances__id__get
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            -   name: expand
                in: query
                required: false
                schema:
                    type: array
                    items:
                        type: string
                    description: 'You can get more detailed info about: [''image'',
                        ''machine-type'', ''network''] '
                    default: []
                    title: Expand
                description: 'You can get more detailed info about: [''image'', ''machine-type'',
                    ''network''] '
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InstanceV1Response'
                    links:
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        update/name:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        update/machine_type:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Changes a running or stopped instance machine
                                type for another one.
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        update/state/running:
                            description: Start a Virtual Machine instance
                            operationId: start_instance_v1_instances__id__start_post
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                        update/state/stopped:
                            description: Stop a Virtual Machine instance
                            operationId: stop_instance_v1_instances__id__stop_post
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                        update/state/suspended:
                            description: Suspend a Virtual Machine instance
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id,NAME:$.name,STATE:$.state,STATUS:$..status,MACHINE_TYPE:$.machine_type,IMAGE:$.image,
                CREATED_AT:$.created_at, SSH_KEY_NAME:$.ssh_key_name
            security:
            -   OAuth2:
                - virtual-machine.read
            x-mgc-description: Get a Virtual Machine instance details
            x-mgc-wait-termination:
                maxRetries: 30
                interval: 5s
                jsonPathQuery: $.result.status == "completed"
                errorJsonPathQuery: contains($.result.status, "error")
    /v1/instances/{id}/reboot:
        post:
            tags:
            - instances
            summary: Starts a running or suspended instance.
            description: 'Reboots a Virtual Machine instance with the id provided
                in the current tenant which is logged in.

                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get the id

                of the instance that you want to reboot.


                #### Rules

                - The instance must be in the running state.'
            operationId: reboot_instance_v1_instances__id__reboot_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: reboot
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/instances/{id}/rename:
        patch:
            tags:
            - instances
            summary: Renames an instance.
            description: 'Renames a Virtual Machine instance with the id provided
                in the current tenant which is logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get the id of

                the instance that you want to rename.'
            operationId: update_instance_name_v1_instances__id__rename_patch
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/IntanceUpdateRequest'
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.name == $.owner.parameters.name
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/instances/{id}/retype:
        post:
            tags:
            - instances
            summary: Changes a running or stopped instance machine type for another
                one.
            description: 'Changes a Virtual Machine instance machine type with the
                id provided in the current tenant

                which is logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get

                the id of the instance that you want to change the machine type.


                #### Rules

                - The instance must be in the running or stopped state.

                - The new machine type must be compatible with the current machine
                type.

                - The new machine type must be available in the same region as the
                current machine type.

                - You must provide either the machine type id or the machine type
                name, if you provide both,

                the machine type id will be used.'
            operationId: retype_instance_v1_instances__id__retype_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/InstanceRetypeRequest'
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.machine_type == $.owner.parameters.machine_type
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: retype
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/instances/{id}/start:
        post:
            tags:
            - instances
            summary: Starts a running or suspended instance.
            description: 'Starts a Virtual Machine instance with the id provided in
                the current tenant which is logged in.

                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,

                so you can get the id of the instance that you want to start.


                #### Rules

                - The instance must be in the stopped or suspended states.'
            operationId: start_instance_v1_instances__id__start_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: start
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/instances/{id}/stop:
        post:
            tags:
            - instances
            summary: Stops a running instance.
            description: 'Stops a Virtual Machine instance with the id provided in
                the current tenant which is logged in.

                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get the id of

                the instance that you want to stop.


                #### Rules

                - The instance must be in the running state.'
            operationId: stop_instance_v1_instances__id__stop_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_v1_instances__id__suspend_post
                            description: Suspend a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: stop
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/instances/{id}/suspend:
        post:
            tags:
            - instances
            summary: Suspends a running instance.
            description: 'Suspends a Virtual Machine instance with the id provided
                in the current tenant which is logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get the id of

                the instance that you want to suspend.


                #### Rules

                - The instance must be in the running state.'
            operationId: suspend_instance_v1_instances__id__suspend_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_v1_instances__id__get
                            description: Read Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: instance_delete_v1_v1_instances__id__delete
                            description: Delete Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_v1_instances__id__reboot_post
                            description: Reboot a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_v1_instances__id__rename_patch
                            description: Rename a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_v1_instances__id__retype_post
                            description: Retype a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_v1_instances__id__start_post
                            description: Start a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_v1_instances__id__stop_post
                            description: Stop a Virtual Machine instance
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: suspend
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/machine-types:
        get:
            tags:
            - machine-types
            summary: Retrieves all machine-types available in the region.
            description: Retrieves a list of machine types allowed for the current
                tenant which is logged in.
            operationId: list_instance_types_v1_v1_machine_types_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    default: 50
                    title: ' Limit'
                    minimum: 0
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    default: 0
                    title: ' Offset'
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    default: created_at:asc
                    title: ' Sort'
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InstanceTypesV1ListResponse'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.instance_types[*].id,NAME:$.instance_types[*].name,STATUS:$.instance_types[*].status,VCPUS:$.instance_types[*].vcpus,RAM:$.instance_types[*].ram,DISK:$.instance_types[*].disk,GPU:$.instance_types[*].gpu
            security:
            -   OAuth2:
                - virtual-machine.read
    /v1/snapshots:
        get:
            tags:
            - snapshots
            summary: Lists all snapshots in the current tenant.
            description: 'List all snapshots in the current tenant which is logged
                in.


                #### Notes

                - You can use the **expand** argument to get more details from the
                inner objects

                like image and machine types.'
            operationId: list_snapshots_v1_v1_snapshots_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    default: 50
                    title: ' Limit'
                    minimum: 0
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    default: 0
                    title: ' Offset'
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    default: created_at:asc
                    title: ' Sort'
            -   name: expand
                in: query
                required: false
                schema:
                    type: array
                    items:
                        type: string
                    description: 'You can get more detailed info about: [''image'',
                        ''machine-type''] '
                    default: []
                    title: Expand
                description: 'You can get more detailed info about: [''image'', ''machine-type''] '
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListSnapshotResponseV1'
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.snapshots[*].id,NAME:$.snapshots[*].name,STATE:$.snapshots[*].state,STATUS:$.snapshots[*].status,SIZE:$.snapshots[*].size,INSTANCE:$.snapshots[*].instance,
                CREATED_AT:$.snapshots[*].created_at
            security:
            -   OAuth2:
                - virtual-machine.read
        post:
            tags:
            - snapshots
            summary: Create a snapshot of a virtual machine asynchronously.
            description: 'Create a snapshot of a Virtual Machine in the current tenant
                which is logged in. </br>

                A Snapshot is ready for restore when it''s in available state.


                #### Notes

                - You can verify the state of snapshot using the snapshot get command,

                - To create a snapshot it''s mandatory inform a valid and unique name.


                #### Rules

                - It''s only possible to create a snapshot of a valid virtual machine.

                - It''s not possible to create 2 snapshots with the same name.

                - You can inform ID or Name from a Virtual Machine if both informed
                the priority will be ID.'
            operationId: snapshot_create_v1_v1_snapshots_post
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotCreateRequestV1'
            responses:
                '202':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                    links:
                        get:
                            operationId: snapshot_details_v1_v1_snapshots__id__get
                            description: Retrieve the details of an snapshot.
                            parameters:
                                id: $response.body#/id
                        restore:
                            operationId: restore_snapshot_v1_v1_snapshots__id__post
                            description: Restore a snapshot to a virtual machine
                            parameters:
                                id: $response.body#/id
                        delete:
                            operationId: delete_instance_type_v0_instance_types__instance_type_id__delete
                            description: Delete Instance Type
                            parameters:
                                id: $response.body#/id
                        rename:
                            operationId: rename_snapshot_v1_snapshots__id__rename_patch
                            description: Rename Instance Type
                            parameters:
                                id: $response.body#/id
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/snapshots/{id}:
        delete:
            tags:
            - snapshots
            summary: Delete a Snapshot asynchronously
            description: 'Deletes an snapshot with the id provided in the current
                tenant

                which is logged in.


                #### Notes

                - You can use the Snapshots list command to retrieve all snapshots,
                so

                - you can get the id of the snapshot that you want to delete.'
            operationId: snapshots_delete_v1_snapshots__id__delete
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
        get:
            tags:
            - snapshots
            summary: Retrieve the details of an snapshot.
            description: 'Get an snapshot details for the current tenant which is
                logged in.


                #### Notes

                - You can use the snapshots list command to retrieve all snapshots,

                so you can get the id of the snapshot that you want to get details.


                - You can use the **expand** argument to get more details from the
                inner objects

                like image or type.'
            operationId: snapshot_details_v1_v1_snapshots__id__get
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            -   name: expand
                in: query
                required: false
                schema:
                    type: array
                    items:
                        type: string
                    description: 'You can get more detailed info about: [''image'',
                        ''machine-type''] '
                    default: []
                    title: Expand
                description: 'You can get more detailed info about: [''image'', ''machine-type''] '
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SnapshotResponseV1'
                    links:
                        restore:
                            operationId: restore_snapshot_v1_v1_snapshots__id__post
                            description: Restore a snapshot to a virtual machine
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: snapshots_delete_v1_snapshots__id__delete
                            description: Delete a Snapshot asynchronously
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: rename_snapshot_v1_snapshots__id__rename_patch
                            description: Renames a snapshot
                            parameters:
                                id: $request.path.id
                        update/name:
                            operationId: rename_snapshot_v1_snapshots__id__rename_patch
                            description: Rename the snapshot
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id,NAME:$.name,STATE:$.state,STATUS:$.status,SIZE:$.size,INSTANCE:$.instance,
                CREATED_AT:$.created_at
            security:
            -   OAuth2:
                - virtual-machine.read
        post:
            tags:
            - snapshots
            summary: Restore a snapshot to a virtual machine
            description: 'Restore a snapshot of a Virtual Machine with the current
                tenant which is logged in. </br>

                A Snapshot is ready for restore when it''s in available state.


                #### Notes

                - You can verify the state of snapshot using the snapshot list command.

                - Use machine-types list to see all machine types available.


                #### Rules

                - To restore a snapshot  you have to inform the new virtual machine
                information.

                - You can choose a machine-type that has a disk equal or larger

                than the original virtual machine type.'
            operationId: restore_snapshot_v1_v1_snapshots__id__post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotRestoreRequestV1'
            responses:
                '202':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                    links:
                        get:
                            operationId: snapshot_details_v1_v1_snapshots__id__get
                            description: Retrieve the details of an snapshot.
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: snapshots_delete_v1_snapshots__id__delete
                            description: Delete a Snapshot asynchronously
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: rename_snapshot_v1_snapshots__id__rename_patch
                            description: Renames a snapshot
                            parameters:
                                id: $request.path.id
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: restore
            x-mgc-output-flag: table=ID:$.id
            security:
            -   OAuth2:
                - virtual-machine.write
    /v1/snapshots/{id}/rename:
        patch:
            tags:
            - snapshots
            summary: Renames a snapshot
            description: 'Renames a Snapshot with the id provided in the current tenant
                which is logged in.


                #### Notes

                - You can use the snapshots list command to retrieve all snapshots,
                so you can get the id of

                the snapshot that you want to rename.'
            operationId: rename_snapshot_v1_snapshots__id__rename_patch
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotRenameRequest'
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: snapshot_details_v1_v1_snapshots__id__get
                            description: Retrieve the details of an snapshot.
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.name == $.owner.parameters.name
                        restore:
                            operationId: restore_snapshot_v1_v1_snapshots__id__post
                            description: Restore a snapshot to a virtual machine
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: snapshots_delete_v1_snapshots__id__delete
                            description: Delete a Snapshot asynchronously
                            parameters:
                                id: $request.path.id
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
    /latest/images:
        get:
            tags:
            - images
            summary: Retrieves all images available in the region.
            description: Retrieve a list of images allowed for the current tenant
                which is logged in.
            operationId: list_images_v1_latest_images_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    default: 50
                    title: ' Limit'
                    minimum: 0
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    default: 0
                    title: ' Offset'
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    default: platform:asc,end_life_at:desc
                    title: ' Sort'
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListImageExternalV1'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.images[*].id,NAME:$.images[*].name,VERSION:$.images[*].version,PLATFORM:$.images[*].platform,END_STANDARD_SUPPORT_AT:$.images[*].end_standard_support_at,STATUS:$.images[*].status
            security:
            -   OAuth2:
                - virtual-machine.read
    /latest/instances:
        get:
            tags:
            - instances
            summary: Lists all instances in the current tenant.
            description: 'List Virtual Machine instances in the current tenant which
                is logged in.


                #### Notes

                - You can use the **extend** argument to get more details from the
                inner objects

                like image or type.'
            operationId: list_instances_v1_latest_instances_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    default: 50
                    title: ' Limit'
                    minimum: 0
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    default: 0
                    title: ' Offset'
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    default: created_at:asc
                    title: ' Sort'
            -   name: expand
                in: query
                required: false
                schema:
                    type: array
                    items:
                        type: string
                    description: 'You can get more detailed info about: [''image'',
                        ''machine-type'', ''network''] '
                    default: []
                    title: Expand
                description: 'You can get more detailed info about: [''image'', ''machine-type'',
                    ''network''] '
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListInstanceV1Response'
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.instances[*].id,NAME:$.instances[*].name,STATE:$.instances[*].state,STATUS:$.instances[*].status,MACHINE_TYPE:$.instances[*].machine_type,IMAGE:$.instances[*].image,
                CREATED_AT:$.instances[*].created_at, SSH_KEY_NAME:$.instances[*].ssh_key_name
            security:
            -   OAuth2:
                - virtual-machine.read
        post:
            tags:
            - instances
            summary: Create an instance asynchronously.
            description: "Creates a Virtual Machine instance in the current tenant\
                \ which is logged in.\n\nAn instance is ready for you to use when\
                \ it's in the running state.\n\n#### Notes\n- For the image data,\
                \ you can use the virtual-machine images list command\n        to\
                \ list all available images.\n- For the machine type data, you can\
                \ use the virtual-machine machine-types\n        list command to list\
                \ all available machine types.\n- You can verify the state of your\
                \ instance using the virtual-machine get\ncommand.\n\n#### Rules\n\
                \n- If you don't specify a VPC, the default VPC will be used. When\
                \ the\ndefault VPC is not available, the command will fail.\n- If\
                \ you don't specify an network interface, an default network interface\n\
                will be created.\n- You can either specify an image id or an image\
                \ name. If you specify\nboth, the image id will be used.\n- You can\
                \ either specify a machine type id or a machine type name. If\nyou\
                \ specify both, the machine type id will be used.\n- You can either\
                \ specify an VPC id or an VPC name. If you specify both,\nthe VPC\
                \ id will be used.\n- The user data must be a Base64 encoded string."
            operationId: instance_create_v1_latest_instances_post
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/InstanceCreateRequestV1'
            responses:
                '201':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                    links:
                        get:
                            operationId: instance_details_v1_latest_instances__id__get
                            description: Retrieve the details of an instance.
                            parameters:
                                id: $response.body#/id
                        delete:
                            operationId: instance_delete_v1_latest_instances__id__delete
                            description: Delete a instance asynchronously
                            parameters:
                                id: $response.body#/id
                        reboot:
                            operationId: reboot_instance_latest_instances__id__reboot_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $response.body#/id
                        rename:
                            operationId: update_instance_name_latest_instances__id__rename_patch
                            description: Renames an instance.
                            parameters:
                                id: $response.body#/id
                        retype:
                            operationId: retype_instance_latest_instances__id__retype_post
                            description: Changes a running or stopped instance machine
                                type for another one.
                            parameters:
                                id: $response.body#/id
                        start:
                            operationId: start_instance_latest_instances__id__start_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $response.body#/id
                        stop:
                            operationId: stop_instance_latest_instances__id__stop_post
                            description: Stops a running instance.
                            parameters:
                                id: $response.body#/id
                        suspend:
                            operationId: suspend_instance_latest_instances__id__suspend_post
                            description: Suspends a running instance.
                            parameters:
                                id: $response.body#/id
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id
            security:
            -   OAuth2:
                - virtual-machine.write
    /latest/instances/{id}:
        delete:
            tags:
            - instances
            summary: Delete a instance asynchronously
            description: 'Deletes permanently an instance with the id provided in
                the current tenant

                which is logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so

                - you can get the id of the instance that you want to delete.


                #### Result

                - The attached ports will be deleted as well.</li>

                - The attached volumes will be detached.</li>'
            operationId: instance_delete_v1_latest_instances__id__delete
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            -   name: delete_public_ip
                in: query
                required: false
                schema:
                    type: boolean
                    default: false
                    title: Delete Public Ip
            responses:
                '204':
                    description: Successful Response
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
        get:
            tags:
            - instances
            summary: Retrieve the details of an instance.
            description: 'Get an instance details for the current tenant which is
                logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,

                so you can get the id of the instance that you want to get details.


                - You can use the **expand** argument to get more details from the
                inner objects

                like image or type.'
            operationId: instance_details_v1_latest_instances__id__get
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            -   name: expand
                in: query
                required: false
                schema:
                    type: array
                    items:
                        type: string
                    description: 'You can get more detailed info about: [''image'',
                        ''machine-type'', ''network''] '
                    default: []
                    title: Expand
                description: 'You can get more detailed info about: [''image'', ''machine-type'',
                    ''network''] '
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InstanceV1Response'
                    links:
                        delete:
                            operationId: instance_delete_v1_latest_instances__id__delete
                            description: Delete a instance asynchronously
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_latest_instances__id__reboot_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_latest_instances__id__rename_patch
                            description: Renames an instance.
                            parameters:
                                id: $request.path.id
                        update/name:
                            operationId: update_instance_name_latest_instances__id__rename_patch
                            description: Renames an instance.
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                        retype:
                            operationId: retype_instance_latest_instances__id__retype_post
                            description: Changes a running or stopped instance machine
                                type for another one.
                            parameters:
                                id: $request.path.id
                        update/machine_type:
                            operationId: retype_instance_latest_instances__id__retype_post
                            description: Changes a running or stopped instance machine
                                type for another one.
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                        start:
                            operationId: start_instance_latest_instances__id__start_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_latest_instances__id__stop_post
                            description: Stops a running instance.
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_latest_instances__id__suspend_post
                            description: Suspends a running instance.
                            parameters:
                                id: $request.path.id
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id,NAME:$.name,STATE:$.state,STATUS:$..status,MACHINE_TYPE:$.machine_type,IMAGE:$.image,
                CREATED_AT:$.created_at, SSH_KEY_NAME:$.ssh_key_name
            security:
            -   OAuth2:
                - virtual-machine.read
    /latest/instances/{id}/reboot:
        post:
            tags:
            - instances
            summary: Starts a running or suspended instance.
            description: 'Reboots a Virtual Machine instance with the id provided
                in the current tenant which is logged in.

                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get the id

                of the instance that you want to reboot.


                #### Rules

                - The instance must be in the running state.'
            operationId: reboot_instance_latest_instances__id__reboot_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_latest_instances__id__get
                            description: Retrieve the details of an instance.
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: instance_delete_v1_latest_instances__id__delete
                            description: Delete a instance asynchronously
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_latest_instances__id__rename_patch
                            description: Renames an instance.
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_latest_instances__id__retype_post
                            description: Changes a running or stopped instance machine
                                type for another one.
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_latest_instances__id__start_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_latest_instances__id__stop_post
                            description: Stops a running instance.
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_latest_instances__id__suspend_post
                            description: Suspends a running instance.
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: reboot
            security:
            -   OAuth2:
                - virtual-machine.write
    /latest/instances/{id}/rename:
        patch:
            tags:
            - instances
            summary: Renames an instance.
            description: 'Renames a Virtual Machine instance with the id provided
                in the current tenant which is logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get the id of

                the instance that you want to rename.'
            operationId: update_instance_name_latest_instances__id__rename_patch
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/IntanceUpdateRequest'
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_latest_instances__id__get
                            description: Retrieve the details of an instance.
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.name == $.owner.parameters.name
                        delete:
                            operationId: instance_delete_v1_latest_instances__id__delete
                            description: Delete a instance asynchronously
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_latest_instances__id__reboot_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_latest_instances__id__retype_post
                            description: Changes a running or stopped instance machine
                                type for another one.
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_latest_instances__id__start_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_latest_instances__id__stop_post
                            description: Stops a running instance.
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_latest_instances__id__suspend_post
                            description: Suspends a running instance.
                            parameters:
                                id: $request.path.id
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
    /latest/instances/{id}/retype:
        post:
            tags:
            - instances
            summary: Changes a running or stopped instance machine type for another
                one.
            description: 'Changes a Virtual Machine instance machine type with the
                id provided in the current tenant

                which is logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get

                the id of the instance that you want to change the machine type.


                #### Rules

                - The instance must be in the running or stopped state.

                - The new machine type must be compatible with the current machine
                type.

                - The new machine type must be available in the same region as the
                current machine type.

                - You must provide either the machine type id or the machine type
                name, if you provide both,

                the machine type id will be used.'
            operationId: retype_instance_latest_instances__id__retype_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/InstanceRetypeRequest'
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_latest_instances__id__get
                            description: Retrieve the details of an instance.
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.machine_type == $.owner.parameters.machine_type
                        delete:
                            operationId: instance_delete_v1_latest_instances__id__delete
                            description: Delete a instance asynchronously
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_latest_instances__id__reboot_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_latest_instances__id__rename_patch
                            description: Renames an instance.
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_latest_instances__id__start_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_latest_instances__id__stop_post
                            description: Stops a running instance.
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_latest_instances__id__suspend_post
                            description: Suspends a running instance.
                            parameters:
                                id: $request.path.id
                '400':
                    description: Instance Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Instance Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: retype
            security:
            -   OAuth2:
                - virtual-machine.write
    /latest/instances/{id}/start:
        post:
            tags:
            - instances
            summary: Starts a running or suspended instance.
            description: 'Starts a Virtual Machine instance with the id provided in
                the current tenant which is logged in.

                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,

                so you can get the id of the instance that you want to start.


                #### Rules

                - The instance must be in the stopped or suspended states.'
            operationId: start_instance_latest_instances__id__start_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_latest_instances__id__get
                            description: Retrieve the details of an instance.
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: instance_delete_v1_latest_instances__id__delete
                            description: Delete a instance asynchronously
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_latest_instances__id__reboot_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_latest_instances__id__rename_patch
                            description: Renames an instance.
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_latest_instances__id__retype_post
                            description: Changes a running or stopped instance machine
                                type for another one.
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_latest_instances__id__stop_post
                            description: Stops a running instance.
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_latest_instances__id__suspend_post
                            description: Suspends a running instance.
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: start
            security:
            -   OAuth2:
                - virtual-machine.write
    /latest/instances/{id}/stop:
        post:
            tags:
            - instances
            summary: Stops a running instance.
            description: 'Stops a Virtual Machine instance with the id provided in
                the current tenant which is logged in.

                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get the id of

                the instance that you want to stop.


                #### Rules

                - The instance must be in the running state.'
            operationId: stop_instance_latest_instances__id__stop_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_latest_instances__id__get
                            description: Retrieve the details of an instance.
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: instance_delete_v1_latest_instances__id__delete
                            description: Delete a instance asynchronously
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_latest_instances__id__reboot_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_latest_instances__id__rename_patch
                            description: Renames an instance.
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_latest_instances__id__retype_post
                            description: Changes a running or stopped instance machine
                                type for another one.
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_latest_instances__id__start_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        suspend:
                            operationId: suspend_instance_latest_instances__id__suspend_post
                            description: Suspends a running instance.
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: stop
            security:
            -   OAuth2:
                - virtual-machine.write
    /latest/instances/{id}/suspend:
        post:
            tags:
            - instances
            summary: Suspends a running instance.
            description: 'Suspends a Virtual Machine instance with the id provided
                in the current tenant which is logged in.


                #### Notes

                - You can use the virtual-machine list command to retrieve all instances,
                so you can get the id of

                the instance that you want to suspend.


                #### Rules

                - The instance must be in the running state.'
            operationId: suspend_instance_latest_instances__id__suspend_post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: instance_details_v1_latest_instances__id__get
                            description: Retrieve the details of an instance.
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: instance_delete_v1_latest_instances__id__delete
                            description: Delete a instance asynchronously
                            parameters:
                                id: $request.path.id
                        reboot:
                            operationId: reboot_instance_latest_instances__id__reboot_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: update_instance_name_latest_instances__id__rename_patch
                            description: Renames an instance.
                            parameters:
                                id: $request.path.id
                        retype:
                            operationId: retype_instance_latest_instances__id__retype_post
                            description: Changes a running or stopped instance machine
                                type for another one.
                            parameters:
                                id: $request.path.id
                        start:
                            operationId: start_instance_latest_instances__id__start_post
                            description: Starts a running or suspended instance.
                            parameters:
                                id: $request.path.id
                        stop:
                            operationId: stop_instance_latest_instances__id__stop_post
                            description: Stops a running instance.
                            parameters:
                                id: $request.path.id
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: suspend
            security:
            -   OAuth2:
                - virtual-machine.write
    /latest/machine-types:
        get:
            tags:
            - machine-types
            summary: Retrieves all machine-types available in the region.
            description: Retrieves a list of machine types allowed for the current
                tenant which is logged in.
            operationId: list_instance_types_v1_latest_machine_types_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    default: 50
                    title: ' Limit'
                    minimum: 0
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    default: 0
                    title: ' Offset'
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    default: created_at:asc
                    title: ' Sort'
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InstanceTypesV1ListResponse'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.instance_types[*].id,NAME:$.instance_types[*].name,STATUS:$.instance_types[*].status,VCPUS:$.instance_types[*].vcpus,RAM:$.instance_types[*].ram,DISK:$.instance_types[*].disk,GPU:$.instance_types[*].gpu
            security:
            -   OAuth2:
                - virtual-machine.read
    /latest/snapshots:
        get:
            tags:
            - snapshots
            summary: Lists all snapshots in the current tenant.
            description: 'List all snapshots in the current tenant which is logged
                in.


                #### Notes

                - You can use the **expand** argument to get more details from the
                inner objects

                like image and machine types.'
            operationId: list_snapshots_v1_latest_snapshots_get
            parameters:
            -   name: _limit
                in: query
                required: false
                schema:
                    type: integer
                    exclusiveMinimum: true
                    default: 50
                    title: ' Limit'
                    minimum: 0
            -   name: _offset
                in: query
                required: false
                schema:
                    type: integer
                    minimum: 0
                    default: 0
                    title: ' Offset'
            -   name: _sort
                in: query
                required: false
                schema:
                    type: string
                    pattern: ^(^[\w-]+:(asc|desc)(,[\w-]+:(asc|desc))*)?$
                    default: created_at:asc
                    title: ' Sort'
            -   name: expand
                in: query
                required: false
                schema:
                    type: array
                    items:
                        type: string
                    description: 'You can get more detailed info about: [''image'',
                        ''machine-type''] '
                    default: []
                    title: Expand
                description: 'You can get more detailed info about: [''image'', ''machine-type''] '
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListSnapshotResponseV1'
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.snapshots[*].id,NAME:$.snapshots[*].name,STATE:$.snapshots[*].state,STATUS:$.snapshots[*].status,SIZE:$.snapshots[*].size,INSTANCE:$.snapshots[*].instance,
                CREATED_AT:$.snapshots[*].created_at
            security:
            -   OAuth2:
                - virtual-machine.read
        post:
            tags:
            - snapshots
            summary: Create a snapshot of a virtual machine asynchronously.
            description: 'Create a snapshot of a Virtual Machine in the current tenant
                which is logged in. </br>

                A Snapshot is ready for restore when it''s in available state.


                #### Notes

                - You can verify the state of snapshot using the snapshot get command,

                - To create a snapshot it''s mandatory inform a valid and unique name.


                #### Rules

                - It''s only possible to create a snapshot of a valid virtual machine.

                - It''s not possible to create 2 snapshots with the same name.

                - You can inform ID or Name from a Virtual Machine if both informed
                the priority will be ID.'
            operationId: snapshot_create_v1_latest_snapshots_post
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotCreateRequestV1'
            responses:
                '202':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                    links:
                        get:
                            operationId: snapshot_details_v1_latest_snapshots__id__get
                            description: Retrieve the details of an snapshot.
                            parameters:
                                id: $response.body#/id
                        restore:
                            operationId: restore_snapshot_v1_latest_snapshots__id__post
                            description: Restore a snapshot to a virtual machine
                            parameters:
                                id: $response.body#/id
                        delete:
                            operationId: snapshots_delete_latest_snapshots__id__delete
                            description: Delete a Snapshot asynchronously
                            parameters:
                                id: $response.body#/id
                        rename:
                            operationId: rename_snapshot_latest_snapshots__id__rename_patch
                            description: Renames a snapshot
                            parameters:
                                id: $response.body#/id
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id
            security:
            -   OAuth2:
                - virtual-machine.write
    /latest/snapshots/{id}:
        delete:
            tags:
            - snapshots
            summary: Delete a Snapshot asynchronously
            description: 'Deletes an snapshot with the id provided in the current
                tenant

                which is logged in.


                #### Notes

                - You can use the Snapshots list command to retrieve all snapshots,
                so

                - you can get the id of the snapshot that you want to delete.'
            operationId: snapshots_delete_latest_snapshots__id__delete
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    format: uuid
                    title: Id
            responses:
                '204':
                    description: Successful Response
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
        get:
            tags:
            - snapshots
            summary: Retrieve the details of an snapshot.
            description: 'Get an snapshot details for the current tenant which is
                logged in.


                #### Notes

                - You can use the snapshots list command to retrieve all snapshots,

                so you can get the id of the snapshot that you want to get details.


                - You can use the **expand** argument to get more details from the
                inner objects

                like image or type.'
            operationId: snapshot_details_v1_latest_snapshots__id__get
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            -   name: expand
                in: query
                required: false
                schema:
                    type: array
                    items:
                        type: string
                    description: 'You can get more detailed info about: [''image'',
                        ''machine-type''] '
                    default: []
                    title: Expand
                description: 'You can get more detailed info about: [''image'', ''machine-type''] '
            responses:
                '200':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SnapshotResponseV1'
                    links:
                        restore:
                            operationId: restore_snapshot_v1_latest_snapshots__id__post
                            description: Restore a snapshot to a virtual machine
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: snapshots_delete_latest_snapshots__id__delete
                            description: Delete a Snapshot asynchronously
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: rename_snapshot_latest_snapshots__id__rename_patch
                            description: Renames a snapshot
                            parameters:
                                id: $request.path.id
                        update/name:
                            operationId: rename_snapshot_latest_snapshots__id__rename_patch
                            description: Renames a snapshot
                            parameters:
                                id: $request.path.id
                            x-mgc-hidden: true
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-output-flag: table=ID:$.id,NAME:$.name,STATE:$.state,STATUS:$.status,SIZE:$.size,INSTANCE:$.instance,
                CREATED_AT:$.created_at
            security:
            -   OAuth2:
                - virtual-machine.read
        post:
            tags:
            - snapshots
            summary: Restore a snapshot to a virtual machine
            description: 'Restore a snapshot of a Virtual Machine with the current
                tenant which is logged in. </br>

                A Snapshot is ready for restore when it''s in available state.


                #### Notes

                - You can verify the state of snapshot using the snapshot list command.

                - Use machine-types list to see all machine types available.


                #### Rules

                - To restore a snapshot  you have to inform the new virtual machine
                information.

                - You can choose a machine-type that has a disk equal or larger

                than the original virtual machine type.'
            operationId: restore_snapshot_v1_latest_snapshots__id__post
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotRestoreRequestV1'
            responses:
                '202':
                    description: Successful Response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateResponse'
                    links:
                        get:
                            operationId: snapshot_details_v1_latest_snapshots__id__get
                            description: Retrieve the details of an snapshot.
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: snapshots_delete_latest_snapshots__id__delete
                            description: Delete a Snapshot asynchronously
                            parameters:
                                id: $request.path.id
                        rename:
                            operationId: rename_snapshot_latest_snapshots__id__rename_patch
                            description: Renames a snapshot
                            parameters:
                                id: $request.path.id
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            x-mgc-name: restore
            x-mgc-output-flag: table=ID:$.id
            security:
            -   OAuth2:
                - virtual-machine.write
    /latest/snapshots/{id}/rename:
        patch:
            tags:
            - snapshots
            summary: Renames a snapshot
            description: 'Renames a Snapshot with the id provided in the current tenant
                which is logged in.


                #### Notes

                - You can use the snapshots list command to retrieve all snapshots,
                so you can get the id of

                the snapshot that you want to rename.'
            operationId: rename_snapshot_latest_snapshots__id__rename_patch
            parameters:
            -   name: id
                in: path
                required: true
                schema:
                    type: string
                    title: Id
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SnapshotRenameRequest'
            responses:
                '204':
                    description: Successful Response
                    links:
                        get:
                            operationId: snapshot_details_v1_latest_snapshots__id__get
                            description: Retrieve the details of an snapshot.
                            parameters:
                                id: $request.path.id
                            x-mgc-wait-termination:
                                interval: 5s
                                maxRetries: 10
                                jsonPathQuery: $.result.name == $.owner.parameters.name
                        restore:
                            operationId: restore_snapshot_v1_latest_snapshots__id__post
                            description: Restore a snapshot to a virtual machine
                            parameters:
                                id: $request.path.id
                        delete:
                            operationId: snapshots_delete_latest_snapshots__id__delete
                            description: Delete a Snapshot asynchronously
                            parameters:
                                id: $request.path.id
                '400':
                    description: Snapshot Not Allowed Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '404':
                    description: Instance Not Found Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '409':
                    description: Snapshot Validation Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '500':
                    description: Internal Exception
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExceptionModel'
                '422':
                    description: Validation Error
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HTTPValidationError'
            x-viveiro: true
            security:
            -   OAuth2:
                - virtual-machine.write
components:
    schemas:
        CreateResponse:
            properties:
                id:
                    type: string
                    title: Id
            type: object
            required:
            - id
            title: CreateResponse
            example:
                id: 9ec75090-2872-4f51-8111-53d05d96d2c6
        ErrorMessageV1:
            properties:
                message:
                    title: Message
                    type: string
                slug:
                    title: Slug
                    type: string
            type: object
            required:
            - slug
            - message
            title: ErrorMessageV1
            example:
                message: Unauthorized
                slug: Unauthorized
        ExceptionModel:
            properties:
                slug:
                    type: string
                    title: Slug
                message:
                    type: string
                    title: Message
                details:
                    type: object
                    title: Details
            type: object
            required:
            - slug
            - message
            - details
            title: ExceptionModel
        HTTPValidationError:
            properties:
                message:
                    title: Message
                    type: string
                slug:
                    title: Slug
                    type: string
            type: object
            title: HTTPValidationError
            example:
                message: Unauthorized
                slug: Unauthorized
        ID:
            properties:
                id:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Id
            type: object
            required:
            - id
            title: ID
            example:
                id: 9ec75090-2872-4f51-8111-53d05d96d2c6
        IdResponse:
            properties:
                id:
                    type: string
                    title: Id
            type: object
            required:
            - id
            title: IdResponse
            example:
                id: 9ec75090-2872-4f51-8111-53d05d96d2c6
        ImageExtendResponse:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                platform:
                    title: Platform
                    nullable: true
            type: object
            required:
            - id
            - name
            title: ImageExtendResponse
            example:
                id: 847ceef4-ff96-4762-895d-5e94e410ddeb
                name: ubuntu
                platform: linux
        ImageInstanceResponse:
            properties:
                name:
                    type: string
                    title: Name
            type: object
            required:
            - name
            title: ImageInstanceResponse
        ImageInstanceV1Response:
            properties:
                id:
                    type: string
                    title: Id
            additionalProperties: true
            type: object
            required:
            - id
            title: ImageInstanceV1Response
        ImageInternalResponse:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                sku:
                    title: Sku
                    nullable: true
                internal:
                    type: boolean
                    title: Internal
            type: object
            required:
            - id
            - name
            - internal
            title: ImageInternalResponse
            example:
                id: 847ceef4-ff96-4762-895d-5e94e410ddeb
                internal: false
                name: ubuntu
                sku: sku1234
        ImageReqMin:
            properties:
                vcpu:
                    type: integer
                    title: Vcpu
                ram:
                    type: integer
                    title: Ram
                disk:
                    type: integer
                    title: Disk
            type: object
            required:
            - vcpu
            - ram
            - disk
            title: ImageReqMin
        ImageRequest:
            properties:
                id:
                    type: string
                    title: Id
                sku:
                    type: string
                    title: Sku
                internal:
                    type: boolean
                    title: Internal
            type: object
            required:
            - id
            - sku
            - internal
            title: ImageRequest
            example:
                id: c47e974f-8002-46e9-8a63-d66505be2aa1
                internal: false
                sku: sku1234
        ImageResponse:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                os_distribution:
                    title: Os Distribution
                    nullable: true
                version:
                    title: Version
                    nullable: true
                size:
                    type: integer
                    title: Size
                sku:
                    title: Sku
                    nullable: true
            type: object
            required:
            - id
            - name
            - size
            title: ImageResponse
            example:
                id: c47e974f-8002-46e9-8a63-d66505be2aa1
                name: ubuntu
                os_distribution: Ubuntu
                size: 10
                sku: sku1234
                version: yy.zz
        ImageResponseExternalV1:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                status:
                    $ref: '#/components/schemas/ImageV1Status'
                version:
                    title: Version
                    nullable: true
                platform:
                    title: Platform
                    nullable: true
                release_at:
                    title: Release At
                    nullable: true
                end_standard_support_at:
                    title: End Standard Support At
                    nullable: true
                end_life_at:
                    title: End Life At
                    nullable: true
                minimum_requirements:
                    $ref: '#/components/schemas/ImageReqMin'
            type: object
            required:
            - id
            - name
            - status
            - minimum_requirements
            title: ImageResponseExternalV1
            example:
                end_life_at: '2022-06-10T18:33:12Z'
                end_standard_support_at: '2022-06-10T18:33:12Z'
                id: c47e974f-8002-46e9-8a63-d66505be2aa1
                minimum_requirements:
                    disk: 2
                    ram: 1
                    vcpu: 1
                name: ubuntu 22.10
                platform: linux
                release_at: '2022-06-10T18:33:12Z'
                status: active
                version: '22.10'
        ImageV1Status:
            type: string
            enum:
            - active
            - deprecated
            - deleted
            title: ImageV1Status
        InstanceCreateRequest:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
                type:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Type
                key_name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Key Name
                image:
                    title: Image
                    nullable: true
                availability_zone:
                    title: Availability Zone
                    nullable: true
                network_interfaces:
                    title: Network Interfaces
                    nullable: true
                allocate_fip:
                    type: boolean
                    title: Allocate Fip
                    default: true
                user_data:
                    title: User Data
                    nullable: true
            type: object
            required:
            - name
            - type
            - key_name
            title: InstanceCreateRequest
            example:
                allocate_fip: true
                availability_zone: br-regiao-1a
                image: ubuntu-1234
                key_name: keypair_name_here
                name: instance name
                network_interfaces:
                -   id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                type: abc.small
                user_data: some_base64_script
        InstanceCreateRequestV1:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
                machine_type:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Machine Type
                ssh_key_name:
                    type: string
                    minLength: 0
                    title: Ssh Key Name
                image:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Image
                availability_zone:
                    title: Availability Zone
                    nullable: true
                network:
                    allOf:
                    -   $ref: '#/components/schemas/InstanceCreateRequestV1Network'
                    default:
                        vpc:
                            name: default
                        associate_public_ip: true
                user_data:
                    title: User Data
                    nullable: true
            type: object
            required:
            - name
            - machine_type
            - ssh_key_name
            - image
            title: InstanceCreateRequestV1
            example:
                availability_zone: br-regiao-1a
                image:
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                machine_type:
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                name: instance name
                network:
                    associate_public_ip: true
                    vpc:
                        id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                ssh_key_name: keypair_name_here
                user_data: some_base64_script
        InstanceCreateRequestV1Network:
            properties:
                vpc:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Vpc
                    default:
                        name: default
                associate_public_ip:
                    type: boolean
                    title: Associate Public Ip
                    default: true
            type: object
            title: InstanceCreateRequestV1Network
            example:
                associate_public_ip: true
                vpc:
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
        InstanceEventDetailsResponse:
            properties:
                event:
                    type: string
                    title: Event
                event_id:
                    type: string
                    title: Event Id
                start_time:
                    type: string
                    title: Start Time
                message:
                    title: Message
                    nullable: true
            type: object
            required:
            - event
            - event_id
            - start_time
            title: InstanceEventDetailsResponse
            example:
                event: suspend
                event_id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                message: an error occurred
                start_time: '2023-01-24T18:01:01.000000'
        InstanceEventResponse:
            properties:
                event:
                    type: string
                    title: Event
                event_id:
                    type: string
                    title: Event Id
                start_time:
                    type: string
                    title: Start Time
            type: object
            required:
            - event
            - event_id
            - start_time
            title: InstanceEventResponse
            example:
                event: suspend
                event_id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                start_time: '2023-01-24T18:01:01.000000'
        InstancePatchRequest:
            properties:
                status:
                    $ref: '#/components/schemas/InstanceStatus'
            type: object
            required:
            - status
            title: InstancePatchRequest
            example:
                status: shutoff
        InstanceResponse:
            properties:
                id:
                    type: string
                    title: Id
                instance_id:
                    title: Instance Id
                    nullable: true
                name:
                    title: Name
                    nullable: true
                instance_type:
                    $ref: '#/components/schemas/InstanceTypeForInstanceResponse'
                image:
                    $ref: '#/components/schemas/ImageInstanceResponse'
                vcpus:
                    title: Vcpus
                    nullable: true
                memory:
                    title: Memory
                    nullable: true
                root_storage:
                    title: Root Storage
                    nullable: true
                power_state:
                    title: Power State
                    nullable: true
                power_state_label:
                    title: Power State Label
                    nullable: true
                status:
                    type: string
                    title: Status
                created_at:
                    type: string
                    title: Created At
                    example: '2022-01-01T00:00:10Z'
                updated_at:
                    title: Updated At
                    nullable: true
                key_name:
                    title: Key Name
                    nullable: true
                availability_zone:
                    title: Availability Zone
                    nullable: true
                volumes:
                    title: Volumes
                    nullable: true
                network_interfaces:
                    title: Network Interfaces
                    nullable: true
                security_groups:
                    title: Security Groups
                    nullable: true
                ports:
                    title: Ports
                    nullable: true
                error:
                    title: Error
                    nullable: true
            type: object
            required:
            - id
            - instance_type
            - image
            - status
            - created_at
            title: InstanceResponse
            example:
                availability_zone: br-regiao-1a
                created_at: '2022-06-10T18:33:12Z'
                error: some error description
                id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                image:
                    name: ubuntu-1234
                instance_id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                instance_type:
                    name: abc.small
                key_name: keypair_name_here
                memory: 4
                name: instance name
                network_interfaces:
                -   addresses:
                    -   ip_address: 172.0.0.1
                        type: fixed
                        version: 4
                    -   ip_address: 159.0.0.1
                        type: floating
                        version: 4
                    mac_address: fa:12:12:12:12:12
                    network:
                        name: vpc-2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6-network
                ports:
                -   id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                power_state: 1
                power_state_label: active
                root_storage: 10
                security_groups:
                -   name: port-name
                status: active
                updated_at: '2022-06-11T18:33:12Z'
                vcpus: 2
                volumes:
                -   id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
        InstanceResponseSnapshotV1:
            properties:
                id:
                    type: string
                    title: Id
                image:
                    anyOf:
                    -   $ref: '#/components/schemas/ImageInstanceV1Response'
                    -   $ref: '#/components/schemas/ImageExtendResponse'
                    title: Image
                machine_type:
                    anyOf:
                    -   $ref: '#/components/schemas/InstanceTypeForInstanceV1Response'
                    -   $ref: '#/components/schemas/InstanceTypesExtendResponse'
                    title: Machine Type
            type: object
            required:
            - id
            - image
            - machine_type
            title: InstanceResponseSnapshotV1
            example:
                instance:
                    id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    image:
                        id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    machine_type:
                        id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
        InstanceRetypeRequest:
            properties:
                machine_type:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Machine Type
            type: object
            required:
            - machine_type
            title: InstanceRetypeRequest
            example:
                machine_type:
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
        InstanceStatus:
            type: string
            enum:
            - shutoff
            - active
            title: InstanceStatus
        InstanceTypeDbListResponse:
            properties:
                instance_types:
                    items:
                        $ref: '#/components/schemas/InstanceTypeDbResponse'
                    type: array
                    title: Instance Types
            type: object
            required:
            - instance_types
            title: InstanceTypeDbListResponse
            example:
                instance_types:
                -   disk: 20
                    gpu: 1
                    id: 3a4dc05b-eb10-42ec-8c0c-848e06f7aded
                    internal: false
                    name: abc.small
                    ram: 2
                    sku: sku1234
                    vcpus: 2
        InstanceTypeDbResponse:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                sku:
                    type: string
                    title: Sku
                vcpus:
                    type: integer
                    title: Vcpus
                ram:
                    type: integer
                    title: Ram
                disk:
                    type: integer
                    title: Disk
                gpu:
                    type: integer
                    title: Gpu
                    default: 0
                internal:
                    type: boolean
                    title: Internal
            type: object
            required:
            - id
            - name
            - sku
            - vcpus
            - ram
            - disk
            - internal
            title: InstanceTypeDbResponse
            example:
                disk: 20
                gpu: 1
                id: 3a4dc05b-eb10-42ec-8c0c-848e06f7aded
                internal: false
                name: abc.small
                ram: 2
                sku: sku1234
                vcpus: 2
        InstanceTypeForInstanceResponse:
            properties:
                name:
                    type: string
                    title: Name
            type: object
            required:
            - name
            title: InstanceTypeForInstanceResponse
        InstanceTypeForInstanceV1Response:
            properties:
                id:
                    type: string
                    title: Id
            additionalProperties: true
            type: object
            required:
            - id
            title: InstanceTypeForInstanceV1Response
        InstanceTypesExtendResponse:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                vcpus:
                    type: integer
                    title: Vcpus
                ram:
                    type: integer
                    title: Ram
                disk:
                    type: integer
                    title: Disk
            type: object
            required:
            - id
            - name
            - vcpus
            - ram
            - disk
            title: InstanceTypesExtendResponse
            example:
                disk: 10
                id: 3a4dc05b-eb10-42ec-8c0c-848e06f7aded
                name: abc.small
                ram: 2
                vcpus: 2
        InstanceTypesListResponse:
            properties:
                instance_types:
                    items:
                        $ref: '#/components/schemas/InstanceTypesResponse'
                    type: array
                    title: Instance Types
            type: object
            required:
            - instance_types
            title: InstanceTypesListResponse
            example:
                instance_types:
                -   disk: 10
                    gpu: 1
                    id: 3a4dc05b-eb10-42ec-8c0c-848e06f7aded
                    name: abc.small
                    ram: 2
                    sku: sku1234
                    vcpus: 2
        InstanceTypesRequest:
            properties:
                id:
                    type: string
                    title: Id
                sku:
                    type: string
                    title: Sku
                internal:
                    type: boolean
                    title: Internal
            type: object
            required:
            - id
            - sku
            - internal
            title: InstanceTypesRequest
            example:
                id: 3a4dc05b-eb10-42ec-8c0c-848e06f7aded
                internal: true
                sku: sku1234
        InstanceTypesResponse:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                vcpus:
                    type: integer
                    title: Vcpus
                ram:
                    type: integer
                    title: Ram
                disk:
                    type: integer
                    title: Disk
                gpu:
                    type: integer
                    title: Gpu
                    default: 0
                sku:
                    type: string
                    title: Sku
            type: object
            required:
            - id
            - name
            - vcpus
            - ram
            - disk
            - sku
            title: InstanceTypesResponse
            example:
                disk: 10
                gpu: 1
                id: 3a4dc05b-eb10-42ec-8c0c-848e06f7aded
                name: abc.small
                ram: 2
                sku: sku1234
                vcpus: 2
        InstanceTypesV1ListResponse:
            properties:
                instance_types:
                    items:
                        $ref: '#/components/schemas/InstanceTypesV1Response'
                    type: array
                    title: Instance Types
            type: object
            required:
            - instance_types
            title: InstanceTypesV1ListResponse
            example:
                instance_types:
                -   disk: 10
                    gpu: 1
                    id: 3a4dc05b-eb10-42ec-8c0c-848e06f7aded
                    name: abc.small
                    ram: 2
                    status: active
                    vcpus: 2
        InstanceTypesV1Response:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                vcpus:
                    type: integer
                    title: Vcpus
                ram:
                    type: integer
                    title: Ram
                disk:
                    type: integer
                    title: Disk
                gpu:
                    type: integer
                    title: Gpu
                    default: 0
                status:
                    type: string
                    title: Status
            type: object
            required:
            - id
            - name
            - vcpus
            - ram
            - disk
            - status
            title: InstanceTypesV1Response
            example:
                disk: 10
                gpu: 1
                id: 3a4dc05b-eb10-42ec-8c0c-848e06f7aded
                name: abc.small
                ram: 2
                status: active
                vcpus: 2
        InstanceV1Response:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    title: Name
                    nullable: true
                machine_type:
                    anyOf:
                    -   $ref: '#/components/schemas/InstanceTypeForInstanceV1Response'
                    -   $ref: '#/components/schemas/InstanceTypesExtendResponse'
                    title: Machine Type
                image:
                    anyOf:
                    -   $ref: '#/components/schemas/ImageInstanceV1Response'
                    -   $ref: '#/components/schemas/ImageExtendResponse'
                    title: Image
                status:
                    $ref: '#/components/schemas/InstanceV1Status'
                    x-mgc-transforms:
                    -   type: lowercase
                state:
                    $ref: '#/components/schemas/InstanceV1State'
                    x-mgc-transforms:
                    -   type: lowercase
                user_data:
                    title: User Data
                    nullable: true
                created_at:
                    type: string
                    title: Created At
                    example: '2022-01-01T00:00:10Z'
                updated_at:
                    title: Updated At
                    nullable: true
                ssh_key_name:
                    title: Ssh Key Name
                    nullable: true
                availability_zone:
                    title: Availability Zone
                    nullable: true
                network:
                    anyOf:
                    -   $ref: '#/components/schemas/NetworkPortsV1'
                    -   $ref: '#/components/schemas/NetworkPortsV1Expand'
                    title: Network
                    nullable: true
                error:
                    nullable: true
            type: object
            required:
            - id
            - machine_type
            - image
            - status
            - state
            - created_at
            title: InstanceV1Response
            example:
                availability_zone: br-regiao-1a
                created_at: '2022-06-10T18:33:12Z'
                error:
                    message: An error occurred while creating your instance. Please
                        contact our support for assistance.
                    slug: create_instance.keypair.not_found
                id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                image:
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                machine_type:
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                name: instance name
                network:
                    ports:
                    -   id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                ssh_key_name: keypair_name_here
                state: running
                status: completed
                updated_at: '2022-06-11T18:33:12Z'
                user_data: some_base_64_str
        InstanceV1State:
            type: string
            enum:
            - new
            - running
            - stopped
            - suspended
            - deleted
            title: InstanceV1State
        InstanceV1Status:
            type: string
            enum:
            - provisioning
            - creating
            - creating_error
            - creating_network_error
            - creating_error_quota
            - creating_error_quota_ram
            - creating_error_quota_vcpu
            - creating_error_quota_disk
            - creating_error_quota_instance
            - creating_error_quota_floating_ip
            - completed
            - retyping_pending
            - retyping
            - retyping_confirmed
            - retyping_error
            - retyping_error_quota
            - stopping_pending
            - stopping
            - suspending_pending
            - suspending
            - rebooting_pending
            - rebooting
            - starting_pending
            - starting
            - deleting_pending
            - deleting
            - deleting_error
            - deleted
            title: InstanceV1Status
        InstanceVolumeResponse:
            properties:
                id:
                    type: string
                    title: Id
            type: object
            required:
            - id
            title: InstanceVolumeResponse
        IntanceUpdateRequest:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
            type: object
            required:
            - name
            title: IntanceUpdateRequest
            example:
                name: new instance name
        IpAddressExpand:
            properties:
                publicIpAddress:
                    type: string
                    title: Publicipaddress
                privateIpAddress:
                    type: string
                    title: Privateipaddress
            type: object
            required:
            - publicIpAddress
            - privateIpAddress
            title: IpAddressExpand
        KeypairCreateResponse:
            properties:
                name:
                    type: string
                    title: Name
                private_key:
                    type: string
                    title: Private Key
                public_key:
                    type: string
                    title: Public Key
            type: object
            required:
            - name
            - private_key
            - public_key
            title: KeypairCreateResponse
            example:
                name: keypair_name_here
                private_key: some ssh private key here...
                public_key: some ssh public key here...
        KeypairDeletedAllResponse:
            properties:
                deleted_keypairs:
                    title: Deleted Keypairs
                    nullable: true
            type: object
            title: KeypairDeletedAllResponse
            example:
                deleted_keypairs:
                -   name: keypair_name_here
        KeypairRequest:
            properties:
                name:
                    type: string
                    title: Name
                public_key:
                    title: Public Key
                    nullable: true
            type: object
            required:
            - name
            title: KeypairRequest
            example:
                name: keypair_name_here
                public_key: some ssh public key here...
        KeypairResponse:
            properties:
                name:
                    type: string
                    title: Name
                public_key:
                    type: string
                    title: Public Key
            type: object
            required:
            - name
            - public_key
            title: KeypairResponse
            example:
                name: keypair_name_here
                public_key: some ssh public key here...
        KeypairsListResponse:
            properties:
                keypairs:
                    items:
                        $ref: '#/components/schemas/KeypairResponse'
                    type: array
                    title: Keypairs
            type: object
            required:
            - keypairs
            title: KeypairsListResponse
            example:
                keypairs:
                -   name: keypair_name_here
                    public_key: some ssh public key here...
        ListImageExternalV1:
            properties:
                images:
                    items:
                        $ref: '#/components/schemas/ImageResponseExternalV1'
                    type: array
                    title: Images
            type: object
            required:
            - images
            title: ListImageExternalV1
            example:
                images:
                -   end_life_at: '2022-06-10T18:33:12Z'
                    end_standard_support_at: '2022-06-10T18:33:12Z'
                    id: c47e974f-8002-46e9-8a63-d66505be2aa1
                    minimum_requirements:
                        disk: 2
                        ram: 1
                        vcpu: 1
                    name: ubuntu 22.10
                    platform: linux
                    release_at: '2022-06-10T18:33:12Z'
                    status: active
                    version: '22.10'
        ListImageInternalResponse:
            properties:
                images:
                    items:
                        $ref: '#/components/schemas/ImageInternalResponse'
                    type: array
                    title: Images
            type: object
            required:
            - images
            title: ListImageInternalResponse
            example:
                images:
                -   id: 847ceef4-ff96-4762-895d-5e94e410ddeb
                    internal: false
                    name: ubuntu
                    sku: sku1234
        ListImageResponse:
            properties:
                images:
                    items:
                        $ref: '#/components/schemas/ImageResponse'
                    type: array
                    title: Images
                    default: []
            type: object
            title: ListImageResponse
            example:
                images:
                -   id: c47e974f-8002-46e9-8a63-d66505be2aa1
                    name: ubuntu
                    os_distribution: Ubuntu
                    size: 10
                    sku: sku1234
                    version: yy.zz
        ListInstanceEventResponse:
            properties:
                events:
                    items:
                        $ref: '#/components/schemas/InstanceEventResponse'
                    type: array
                    title: Events
            type: object
            required:
            - events
            title: ListInstanceEventResponse
            example:
                events:
                -   event: suspend
                    event_id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    start_time: '2023-01-24T18:01:01.000000'
                -   event: pause
                    event_id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    start_time: '2023-01-24T18:01:01.000000'
        ListInstanceResponse:
            properties:
                instances:
                    items:
                        $ref: '#/components/schemas/InstanceResponse'
                    type: array
                    title: Instances
            type: object
            required:
            - instances
            title: ListInstanceResponse
            example:
                instances:
                -   availability_zone: br-regiao-1a
                    created_at: '2022-06-10T18:33:12Z'
                    error: some error description
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    image:
                        name: ubuntu-1234
                    instance_id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    instance_type:
                        name: abc.small
                    key_name: keypair_name_here
                    memory: 4
                    name: instance name
                    network_interfaces:
                    -   addresses:
                        -   ip_address: 172.0.0.1
                            type: fixed
                            version: 4
                        -   ip_address: 159.0.0.1
                            type: floating
                            version: 4
                        mac_address: fa:12:12:12:12:12
                        network:
                            name: vpc-2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6-network
                    ports:
                    -   id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    power_state: 1
                    power_state_label: active
                    root_storage: 10
                    security_groups:
                    -   name: port-name
                    status: active
                    updated_at: '2022-06-11T18:33:12Z'
                    vcpus: 2
                    volumes:
                    -   id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                -   created_at: '2022-09-01T12:54:15Z'
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    image:
                        name: cloud-ubuntu-20.04 LTS
                    instance_type:
                        name: cloud-bs1.xsmall
                    key_name: some_keypair_name
                    name: some name instance
                    network_interfaces: []
                    ports: []
                    security_groups: []
                    status: pending
                    volumes: []
        ListInstanceV1Response:
            properties:
                instances:
                    items:
                        $ref: '#/components/schemas/InstanceV1Response'
                    type: array
                    title: Instances
            type: object
            required:
            - instances
            title: ListInstanceV1Response
            example:
                instances:
                -   availability_zone: br-regiao-1a
                    created_at: '2022-06-10T18:33:12Z'
                    error:
                        message: An error occurred while creating your instance. Please
                            contact our support for assistance.
                        slug: create_instance.keypair.not_found
                    id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    image:
                        id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    machine_type:
                        id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    name: instance name
                    network:
                        ports:
                        -   id: 2ae0b896-855c-456c-b4a5-c8f4e6d2f4f6
                    ssh_key_name: keypair_name_here
                    state: running
                    status: completed
                    updated_at: '2022-06-11T18:33:12Z'
                    user_data: base64_data
        ListResourceUsage:
            properties:
                results:
                    items:
                        $ref: '#/components/schemas/ResourceUsageResponse'
                    type: array
                    title: Results
            type: object
            required:
            - results
            title: ListResourceUsage
            example:
                results:
                -   quota_slug: vcpus
                    used: 10
        ListSnapshotResponseV1:
            properties:
                snapshots:
                    items:
                        $ref: '#/components/schemas/SnapshotResponseV1'
                    type: array
                    title: Snapshots
            type: object
            required:
            - snapshots
            title: ListSnapshotResponseV1
            example:
                snapshots:
                -   created_at: '2022-06-10T18:33:12Z'
                    id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    instance:
                        id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                        image:
                            id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                        machine_type:
                            id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    name: snapshot name
                    size: 1000
                    state: available
                    status: completed
                    updated_at: '2022-06-11T18:33:12Z'
        Name:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
            type: object
            required:
            - name
            title: Name
            example:
                name: some_resource_name
        NetworkAddress:
            properties:
                ip_address:
                    title: Ip Address
                    nullable: true
                version:
                    title: Version
                    nullable: true
                type:
                    title: Type
                    nullable: true
            type: object
            title: NetworkAddress
        NetworkID:
            properties:
                id:
                    type: string
                    title: Id
            type: object
            required:
            - id
            title: NetworkID
        NetworkInfo:
            properties:
                name:
                    title: Name
                    nullable: true
            type: object
            title: NetworkInfo
        NetworkInterface:
            properties:
                mac_address:
                    title: Mac Address
                    nullable: true
                network:
                    nullable: true
                addresses:
                    items:
                        $ref: '#/components/schemas/NetworkAddress'
                    type: array
                    title: Addresses
            type: object
            required:
            - addresses
            title: NetworkInterface
        NetworkPortsV1:
            properties:
                ports:
                    items:
                        $ref: '#/components/schemas/PortID'
                    type: array
                    title: Ports
            type: object
            required:
            - ports
            title: NetworkPortsV1
        NetworkPortsV1Expand:
            properties:
                vpc:
                    nullable: true
                ports:
                    title: Ports
                    nullable: true
            type: object
            title: NetworkPortsV1Expand
        PortID:
            properties:
                id:
                    type: string
                    title: Id
            type: object
            required:
            - id
            title: PortID
        PortV1Expand:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
                ipAddresses:
                    $ref: '#/components/schemas/IpAddressExpand'
            type: object
            required:
            - id
            - name
            - ipAddresses
            title: PortV1Expand
        ProjectType:
            type: string
            enum:
            - dbaas
            - iamaas
            - k8saas
            - mngsvc
            title: ProjectType
        ResourceUsageResponse:
            properties:
                quota_slug:
                    type: string
                    title: Quota Slug
                used:
                    type: integer
                    title: Used
            type: object
            required:
            - quota_slug
            - used
            title: ResourceUsageResponse
            example:
                quota_slug: vcpus
                used: 10
        SecurityGroup:
            properties:
                name:
                    title: Name
                    nullable: true
            type: object
            title: SecurityGroup
        SnapshotCreateRequest:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
                virtual_machine_id:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Virtual Machine Id
            type: object
            required:
            - name
            - virtual_machine_id
            title: SnapshotCreateRequest
            example:
                name: snapshot name
                virtual_machine_id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
        SnapshotCreateRequestV1:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
                virtual_machine:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Virtual Machine
            type: object
            required:
            - name
            - virtual_machine
            title: SnapshotCreateRequestV1
            example:
                name: snapshot name
                virtual_machine:
                    id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
        SnapshotImage:
            properties:
                name:
                    type: string
                    title: Name
            type: object
            required:
            - name
            title: SnapshotImage
            example:
                name: ubuntu-1234
        SnapshotListResponse:
            properties:
                results:
                    items:
                        $ref: '#/components/schemas/SnapshotResponse'
                    type: array
                    title: Results
            type: object
            required:
            - results
            title: SnapshotListResponse
            example:
                results:
                -   created_at: '2022-06-10T18:33:12Z'
                    error: seome error details
                    id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    image:
                        name: ubuntu-1234
                    instance_type_id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    name: snapshot name
                    size: 10000
                    status: some_status
                    tenant_id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    updated_at: '2022-06-12T18:33:12Z'
                    virtual_machine_id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
        SnapshotRenameRequest:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
            type: object
            required:
            - name
            title: SnapshotRenameRequest
            example:
                name: new snapshot name
        SnapshotResponse:
            properties:
                id:
                    type: string
                    title: Id
                virtual_machine_id:
                    type: string
                    title: Virtual Machine Id
                name:
                    type: string
                    title: Name
                tenant_id:
                    type: string
                    title: Tenant Id
                status:
                    type: string
                    title: Status
                error:
                    title: Error
                    nullable: true
                created_at:
                    type: string
                    title: Created At
                    example: '2022-01-01T00:00:10Z'
                updated_at:
                    title: Updated At
                    nullable: true
                instance_type_id:
                    type: string
                    title: Instance Type Id
                image:
                    $ref: '#/components/schemas/SnapshotImage'
                size:
                    title: Size
                    nullable: true
            type: object
            required:
            - id
            - virtual_machine_id
            - name
            - tenant_id
            - status
            - created_at
            - instance_type_id
            - image
            title: SnapshotResponse
            example:
                created_at: '2022-06-10T18:33:12Z'
                error: seome error details
                id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                image:
                    name: ubuntu-1234
                instance_type_id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                name: snapshot name
                size: 10000
                status: some_status
                tenant_id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                updated_at: '2022-06-12T18:33:12Z'
                virtual_machine_id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
        SnapshotResponseV1:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    title: Name
                    nullable: true
                status:
                    type: string
                    title: Status
                state:
                    type: string
                    title: State
                created_at:
                    type: string
                    title: Created At
                    example: '2022-01-01T00:00:10Z'
                updated_at:
                    title: Updated At
                    nullable: true
                size:
                    type: integer
                    title: Size
                instance:
                    $ref: '#/components/schemas/InstanceResponseSnapshotV1'
            type: object
            required:
            - id
            - status
            - state
            - created_at
            - size
            - instance
            title: SnapshotResponseV1
            example:
                created_at: '2022-06-10T18:33:12Z'
                id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                instance:
                    id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    image:
                        id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                    machine_type:
                        id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                name: snapshot name
                size: 1000
                state: available
                status: completed
                updated_at: '2022-06-11T18:33:12Z'
        SnapshotRestoreRequest:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
                type:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Type
                key_name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Key Name
                availability_zone:
                    title: Availability Zone
                    nullable: true
                network_interfaces:
                    title: Network Interfaces
                    nullable: true
                allocate_fip:
                    type: boolean
                    title: Allocate Fip
                    default: true
                user_data:
                    title: User Data
                    nullable: true
            additionalProperties: false
            type: object
            required:
            - name
            - type
            - key_name
            title: SnapshotRestoreRequest
            example:
                allocate_fip: true
                availability_zone: br-regiao-1a
                key_name: keypair_name
                name: instance name
                network_interfaces:
                -   id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                type: abc.small
                user_data: some_base64_script
        SnapshotRestoreRequestV1:
            properties:
                name:
                    type: string
                    maxLength: 255
                    minLength: 1
                    title: Name
                machine_type:
                    anyOf:
                    -   $ref: '#/components/schemas/ID'
                    -   $ref: '#/components/schemas/Name'
                    title: Machine Type
                ssh_key_name:
                    type: string
                    minLength: 0
                    title: Ssh Key Name
                availability_zone:
                    title: Availability Zone
                    nullable: true
                network:
                    allOf:
                    -   $ref: '#/components/schemas/InstanceCreateRequestV1Network'
                    default:
                        vpc:
                            name: default
                        associate_public_ip: true
                user_data:
                    title: User Data
                    nullable: true
            type: object
            required:
            - name
            - machine_type
            - ssh_key_name
            title: SnapshotRestoreRequestV1
            example:
                availability_zone: br-regiao-1a
                machine_type:
                    id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                name: instance name
                network:
                    associate_public_ip: true
                    vpc:
                        id: 4830bfbe-0362-4ebb-a8ba-f36be4b4bc6a
                ssh_key_name: keypair_name_here
                user_data: some_base64_script
        SnapshotUpdateInternalRequest:
            properties:
                status:
                    type: string
                    title: Status
                error:
                    title: Error
                    nullable: true
                size:
                    title: Size
                    nullable: true
                urp_snapshot_id:
                    title: Urp Snapshot Id
                    nullable: true
            type: object
            required:
            - status
            - urp_snapshot_id
            title: SnapshotUpdateInternalRequest
            example:
                error: error message
                size: 10000
                status: status for snapshot is optional
                urp_snapshot_id: urp snapshot id
        SnapshotUpdateRequest:
            properties:
                status:
                    type: string
                    title: Status
                error:
                    title: Error
                    nullable: true
                size:
                    title: Size
                    nullable: true
            type: object
            required:
            - status
            title: SnapshotUpdateRequest
            example:
                error: error message is optional
                size: 10000
                status: status for snapshot
        ValidationError:
            properties:
                message:
                    title: Message
                    type: string
                slug:
                    title: Slug
                    type: string
            type: object
            required:
            - loc
            - msg
            - type
            title: ValidationError
            example:
                message: Unauthorized
                slug: Unauthorized
        VpcV1Expand:
            properties:
                id:
                    type: string
                    title: Id
                name:
                    type: string
                    title: Name
            type: object
            required:
            - id
            - name
            title: VpcV1Expand
tags:
-   name: instances
    description: Operations with instances, including create, delete, start, stop,
        reboot and other actions.
-   name: images
    description: Operations with images for instances.
-   name: machine-types
    description: Operations with machine types for instances.
-   name: snapshots
    description: Operations with snapshots for instances.
$id: https://virtual-machine.jaxyendy.com/openapi.json
servers:
-   url: https://{env}/{region}/compute
    variables:
        region:
            description: Region to reach the service
            default: br-ne-1
            enum:
            - br-ne-1
            - br-se1
            - br-mgl1
            x-mgc-transforms:
            -   type: translate
                allowMissing: true
                translations:
                -   from: br-ne1
                    to: br-ne-1
                -   from: br-mgl1
                    to: br-se-1
        env:
            description: Environment to use
            default: api.magalu.cloud
            enum:
            - api.magalu.cloud
            - api.pre-prod.jaxyendy.com
            x-mgc-transforms:
            -   type: translate
                translations:
                -   from: prod
                    to: api.magalu.cloud
                -   from: pre-prod
                    to: api.pre-prod.jaxyendy.com
