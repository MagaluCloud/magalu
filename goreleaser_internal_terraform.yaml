project_name: mgc
builds:
  - env: [ CGO_ENABLED=0 ]
    id: "terraform"
    goos:
      - linux
    goarch:
      - amd64
    binary: terraform-provider-mgc
    ldflags:
      - -s -w -X magalu.cloud/sdk.Version={{.Version}}"
    flags:
      - -tags=embed release
    main: mgc/terraform-provider-mgc/main.go
archives:
  - id: terraform
    name_template: "terraform-provider-mgc_{{ .Version }}_{{ .Os }}_{{ .Arch }}"
    format: zip
    builds:
      - terraform
release:
  extra_files:
    - glob: 'mgc/terraform-provider-mgc/terraform-registry-manifest.json'
      name_template: 'terraform-provider-{{ .ProjectName }}_{{ .Version }}_manifest.json'
  draft: true
  prerelease: true
  header: |
    ## Terraform provider ({{ .Date }})
