{
  "openapi": "3.1.0",
  "info": {
    "title": "Block Storage API Product - v1",
    "description": "Block Storage API Product",
    "contact": {
      "name": "IaaS Products",
      "url": "https://github.com/luizalabs",
      "email": "kassio.junqueira@luizalabs.com"
    },
    "version": "v1"
  },
  "paths": {
    "/v1/attachments": {
      "post": {
        "tags": [
          "attachments"
        ],
        "summary": "Attach a volume to an instance.",
        "description": "Attach a Volume to a Virtual Machine instance for the currently\n authenticated tenant.\n\nThe Volume attachment will be completed when the Volume status returns to\n\"completed\", and the state becomes \"in-use\".\n\n#### Rules\n- The Volume and the Virtual Machine must belong to the same tenant.\n- Both the Volume and Virtual Machine must have the status \"completed\".\n- The Volume's state must be \"available\".\n- The Virtual Machine's state must be \"stopped\" or \"running\".\n\n#### Notes\n- Verify the state and status of your Volume using the\n **block-storage volume get --id [uuid]** command.\n- Verify the state and status of your Virtual Machine using the\n**virtual-machine instances get --id [uuid]** command\".",
        "operationId": "create_attachment_v1_v1_attachments_post",
        "parameters": [
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAttachmentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Create Attachment V1 V1 Attachments Post"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Create Attachment V1 V1 Attachments Post"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Create Attachment V1 V1 Attachments Post"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_volume_attach"
      }
    },
    "/v1/attachments/{id}": {
      "delete": {
        "tags": [
          "attachments"
        ],
        "summary": "Delete an attachment.",
        "description": "Detach a Volume from a Virtual Machine instance for the\n currently authenticated tenant.\n\nThe Volume detachment will be completed when the Volume state returns to\n \"available,\" and the status becomes \"completed\".\n\n#### Rules\n- The Volume and the Virtual Machine must belong to the same tenant.\n- Both the Volume and Virtual Machine must have the status \"completed\".\n- The Volume's state must be \"in-use\".\n- The Virtual Machine's state must be \"stopped\".\n\n#### Notes\n- Verify the state and status of your Volume using the\n **block-storage volume get --id [uuid]** command.\n- Verify the state and status of your Virtual Machine using the\n **virtual-machine instances get --id [uuid]** command.\n- Ensure that any file systems on the device within your operating system are\n unmounted before detaching the Volume.\n\n#### Troubleshooting\n- A failure during detachment can result in the Volume becoming stuck in the\n busy state. If this occurs, detachment may be delayed indefinitely until you\n unmount the Volume, force detachment, reboot the instance, or perform all\n three.",
        "operationId": "delete_attachment_v1_v1_attachments__id__delete",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id",
              "format": "uuid"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Delete Attachment V1 V1 Attachments  Id  Delete"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Delete Attachment V1 V1 Attachments  Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Delete Attachment V1 V1 Attachments  Id  Delete"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_volume_detach"
      }
    },
    "/v1/snapshots": {
      "get": {
        "tags": [
          "snapshots"
        ],
        "summary": "List all snapshots.",
        "description": "Retrieve a list of Snapshots for the currently authenticated tenant.\n\n#### Notes\n- Use the expand argument to obtain additional details about the Volume used to\n create each Snapshot.",
        "operationId": "list_snapshot_v1_snapshots_get",
        "parameters": [
          {
            "name": "expand",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/ExpandSnapshots"
              },
              "title": "Expand",
              "default": []
            }
          },
          {
            "name": "_limit",
            "in": "query",
            "required": false,
            "schema": {
              "exclusiveMinimum": 0,
              "type": "integer",
              "title": " Limit",
              "default": 50
            }
          },
          {
            "name": "_offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "title": " Offset",
              "minimum": 0,
              "default": 0
            }
          },
          {
            "name": "_sort",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": " Sort",
              "pattern": "^(^[\\w-]+:(asc|desc)(,[\\w-]+:(asc|desc))*)?$",
              "default": "created_at:asc"
            }
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Name"
            }
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/SnapshotType"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Type"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SnapshotListResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 List Snapshot V1 Snapshots Get"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 List Snapshot V1 Snapshots Get"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 List Snapshot V1 Snapshots Get"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_snapshot_list"
      },
      "post": {
        "tags": [
          "snapshots"
        ],
        "summary": "Create a snapshot.",
        "description": "Create a Snapshot for the currently authenticated tenant.\n\nThe Snapshot can be used when it reaches the \"available\" state and the\n \"completed\" status.\n\n#### Rules\n- The Snapshot name must be unique; otherwise, the creation will be disallowed.\n- Creating Snapshots from restored Volumes may lead to future conflicts as\n you can't delete a Volume with an Snapshot and can't delete a Snapshot with a\n restored Volume, so we recommend avoiding it.\n\n#### Notes\n- Use the **block-storage volume list** command to retrieve a list of all\n Volumes and obtain the ID of the Volume that will be used to create the\n Snapshot.",
        "operationId": "create_snapshot_v1_snapshots_post",
        "parameters": [
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SnapshotCreationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IdResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Create Snapshot V1 Snapshots Post"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Create Snapshot V1 Snapshots Post"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Create Snapshot V1 Snapshots Post"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_snapshot_create"
      }
    },
    "/v1/snapshots/{id}": {
      "get": {
        "tags": [
          "snapshots"
        ],
        "summary": "Retrieve the details of a specific snapshot.",
        "description": "Retrieve details of a Snapshot for the currently authenticated tenant.\n\n#### Notes\n- Use the **expand** argument to obtain additional details about the Volume\n used to create the Snapshot.\n- Utilize the **block-storage snapshots list** command to retrieve a list of\n all Snapshots and obtain the ID of the Snapshot for which you want to retrieve\n details.",
        "operationId": "get_snapshot_v1_snapshots__id__get",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id",
              "format": "uuid"
            }
          },
          {
            "name": "expand",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/ExpandSnapshots"
              },
              "title": "Expand",
              "default": []
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SnapshotResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Get Snapshot V1 Snapshots  Id  Get"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Get Snapshot V1 Snapshots  Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Get Snapshot V1 Snapshots  Id  Get"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_snapshot_get"
      },
      "delete": {
        "tags": [
          "snapshots"
        ],
        "summary": "Delete a snapshot.",
        "description": "Delete a Snapshot for the currently authenticated tenant.\n\n#### Rules\n- The Snapshot's status must be \"completed\".\n- The Snapshot's state must be \"available\".\n- Deleting a Snapshot that has been restored is not possible. If necessary,\n delete the restored Volume first and then proceed to delete the Snapshot.\n\n#### Notes\n- Utilize the **block-storage snapshots** list command to retrieve a list of\n all Snapshots and obtain the ID of the Snapshot you wish to delete.\n- If needed, you can use the **block-storage volume list** command to retrieve\n a list of all Volumes and obtain the ID of the restored Volume.",
        "operationId": "delete_snapshot_v1_snapshots__id__delete",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id",
              "format": "uuid"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Delete Snapshot V1 Snapshots  Id  Delete"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Delete Snapshot V1 Snapshots  Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Delete Snapshot V1 Snapshots  Id  Delete"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_snapshot_delete"
      }
    },
    "/v1/snapshots/{id}/copy": {
      "post": {
        "tags": [
          "snapshots"
        ],
        "summary": "Copy a object snapshot to another region.",
        "description": "Copy a object snapshot cross region for the currently authenticated tenant.\n\n#### Rules\n- The copy only be accepted when the destiny region is different from origin region.\n- The copy only be accepted if the snapshot name in destiny region is different from input name.\n- The copy only be accepted if the user has access to destiny region.\n\n#### Notes\n- Utilize the **block-storage snapshots list** command to retrieve a list of\n all Snapshots and obtain the ID of the Snapshot you wish to copy across different region.",
        "operationId": "copy_snapshot_cross_region_v1_snapshots__id__copy_post",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id",
              "format": "uuid"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CopyCrossRegionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Copy Snapshot Cross Region V1 Snapshots  Id  Copy Post"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Copy Snapshot Cross Region V1 Snapshots  Id  Copy Post"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Copy Snapshot Cross Region V1 Snapshots  Id  Copy Post"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_snapshot_copy"
      }
    },
    "/v1/snapshots/{id}/rename": {
      "patch": {
        "tags": [
          "snapshots"
        ],
        "summary": "Rename a snapshot.",
        "description": "Rename a Snapshot for the currently authenticated tenant.\n\n#### Rules\n- The Snapshot name must be unique; otherwise, renaming will not be allowed.\n\n#### Notes\n- Utilize the **block-storage snapshots list** command to retrieve a list of\n all Snapshots and obtain the ID of the Snapshot you wish to rename.",
        "operationId": "rename_snapshot_v1_snapshots__id__rename_patch",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id",
              "format": "uuid"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SnapshotRenameRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Rename Snapshot V1 Snapshots  Id  Rename Patch"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Rename Snapshot V1 Snapshots  Id  Rename Patch"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Rename Snapshot V1 Snapshots  Id  Rename Patch"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_snapshot_rename"
      }
    },
    "/v1/volume-types": {
      "get": {
        "tags": [
          "volume-types"
        ],
        "summary": "List all volume types.",
        "description": "List Volume Types allowed in the current region.\n\n#### Notes\n\n- Volume types are managed internally. If you wish to use a Volume Type that\n is not yet available, please contact our support team for assistance.",
        "operationId": "list_volume_types_v1_v1_volume_types_get",
        "parameters": [
          {
            "name": "availability-zone",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Availability-Zone"
            }
          },
          {
            "name": "allows-encryption",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Allows-Encryption"
            }
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Name"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GenericVolumeTypeList_VolumeTypeResponseWithAzs_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_volume_type_list"
      }
    },
    "/v1/volumes": {
      "get": {
        "tags": [
          "volumes"
        ],
        "summary": "List all volumes.",
        "description": "Retrieve a list of Volumes for the currently authenticated tenant.\n\n#### Notes\n- Use the expand argument to obtain additional details about the Volume Type.",
        "operationId": "list_volume_v1_v1_volumes_get",
        "parameters": [
          {
            "name": "expand",
            "in": "query",
            "description": "You can get more detailed info about: ['volume_type', 'attachment']",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "title": "Expand",
              "description": "You can get more detailed info about: ['volume_type', 'attachment']",
              "default": []
            }
          },
          {
            "name": "_limit",
            "in": "query",
            "required": false,
            "schema": {
              "exclusiveMinimum": 0,
              "type": "integer",
              "title": " Limit",
              "default": 50
            }
          },
          {
            "name": "_offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "title": " Offset",
              "minimum": 0,
              "default": 0
            }
          },
          {
            "name": "_sort",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": " Sort",
              "pattern": "^(^[\\w-]+:(asc|desc)(,[\\w-]+:(asc|desc))*)?$",
              "default": "created_at:asc"
            }
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Name"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VolumesResponseV1"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 List Volume V1 V1 Volumes Get"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 List Volume V1 V1 Volumes Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_volume_list"
      },
      "post": {
        "tags": [
          "volumes"
        ],
        "summary": "Create a new volume.",
        "description": "Create a Volume for the currently authenticated tenant.\n\nThe Volume can be used when it reaches the \"available\" state and \"completed\"\n status.\n\n#### Rules\n- The Volume name must be unique; otherwise, the creation will be disallowed.\n- The Volume type must be available to use.\n\n#### Notes\n- Utilize the **block-storage volume-types list** command to retrieve a list\n of all available Volume Types.\n- Verify the state and status of your Volume using the\n**block-storage volume get --id [uuid]** command\".",
        "operationId": "create_volume_v1_v1_volumes_post",
        "parameters": [
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VolumeCreateRequestV1"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IdResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Create Volume V1 V1 Volumes Post"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Create Volume V1 V1 Volumes Post"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Create Volume V1 V1 Volumes Post"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_volume_create"
      }
    },
    "/v1/volumes/{id}": {
      "get": {
        "tags": [
          "volumes"
        ],
        "summary": "Retrieve the details of a specific volume.",
        "description": "Retrieve details of a Volume for the currently authenticated tenant.\n\n#### Notes\n- Use the **expand** argument to obtain additional details about the Volume\n Type.\n- Utilize the **block-storage volume list** command to retrieve a list of all\n Volumes and obtain the ID of the Volume for which you want to retrieve\n details.",
        "operationId": "get_volume_v1_v1_volumes__id__get",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id",
              "format": "uuid"
            }
          },
          {
            "name": "expand",
            "in": "query",
            "description": "You can get more detailed info about: ['volume_type', 'attachment']",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "title": "Expand",
              "description": "You can get more detailed info about: ['volume_type', 'attachment']",
              "default": []
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VolumeResponseV1"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Get Volume V1 V1 Volumes  Id  Get"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Get Volume V1 V1 Volumes  Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_volume_get"
      },
      "delete": {
        "tags": [
          "volumes"
        ],
        "summary": "Delete a volume.",
        "description": "Delete a Volume for the currently authenticated tenant.\n\n#### Rules\n- The Volume cannot be attached to a Virtual Machine, i.e., its state cannot\n be \"in-use\". If necessary, detach the Volume from the Virtual Machine before\n proceeding with deletion.\n- The Volume must not have any snapshots. If necessary, delete the Volume's\n  snapshots before proceeding with deletion.\n- The Volume must have the status \"completed\", i.e., must not have any\n  actions in progress.\n\n\n#### Notes\n- Check the state and status of your Volume using the\n**block-storage volume get --id [uuid]** command\".",
        "operationId": "delete_volume_v1_v1_volumes__id__delete",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id",
              "format": "uuid"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Delete Volume V1 V1 Volumes  Id  Delete"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Delete Volume V1 V1 Volumes  Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Delete Volume V1 V1 Volumes  Id  Delete"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_volume_delete"
      }
    },
    "/v1/volumes/{id}/attach/{virtual_machine_id}": {
      "post": {
        "tags": [
          "volumes"
        ],
        "summary": "Attach the volume to an instance.",
        "description": "Attach a Volume to a Virtual Machine instance for the currently\n authenticated tenant.\n\nThe Volume attachment will be completed when the Volume status returns to\n\"completed\", and the state becomes \"in-use\".\n\n#### Rules\n- The Volume and the Virtual Machine must belong to the same tenant.\n- Both the Volume and Virtual Machine must have the status \"completed\".\n- The Volume's state must be \"available\".\n- The Virtual Machine's state must be \"stopped\" or \"running\".\n\n#### Notes\n- Verify the state and status of your Volume using the\n **block-storage volume get --id [uuid]** command.\n- Verify the state and status of your Virtual Machine using the\n**virtual-machine instances get --id [uuid]** command\".",
        "operationId": "attach_volume_v1_v1_volumes__id__attach__virtual_machine_id__post",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id",
              "format": "uuid"
            }
          },
          {
            "name": "virtual_machine_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Virtual Machine Id",
              "format": "uuid"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Attach Volume V1 V1 Volumes  Id  Attach  Virtual Machine Id  Post"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Attach Volume V1 V1 Volumes  Id  Attach  Virtual Machine Id  Post"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Attach Volume V1 V1 Volumes  Id  Attach  Virtual Machine Id  Post"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_volume_attach"
      }
    },
    "/v1/volumes/{id}/detach": {
      "post": {
        "tags": [
          "volumes"
        ],
        "summary": "Detach the volume from an instance.",
        "description": "Detach a Volume from a Virtual Machine instance for the\n currently authenticated tenant.\n\nThe Volume detachment will be completed when the Volume state returns to\n \"available,\" and the status becomes \"completed\".\n\n#### Rules\n- The Volume and the Virtual Machine must belong to the same tenant.\n- Both the Volume and Virtual Machine must have the status \"completed\".\n- The Volume's state must be \"in-use\".\n- The Virtual Machine's state must be \"stopped\".\n\n#### Notes\n- Verify the state and status of your Volume using the\n **block-storage volume get --id [uuid]** command.\n- Verify the state and status of your Virtual Machine using the\n **virtual-machine instances get --id [uuid]** command.\n- Ensure that any file systems on the device within your operating system are\n unmounted before detaching the Volume.\n\n#### Troubleshooting\n- A failure during detachment can result in the Volume becoming stuck in the\n busy state. If this occurs, detachment may be delayed indefinitely until you\n unmount the Volume, force detachment, reboot the instance, or perform all\n three.",
        "operationId": "detach_volume_v1_v1_volumes__id__detach_post",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id",
              "format": "uuid"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Detach Volume V1 V1 Volumes  Id  Detach Post"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Detach Volume V1 V1 Volumes  Id  Detach Post"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Detach Volume V1 V1 Volumes  Id  Detach Post"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_volume_detach"
      }
    },
    "/v1/volumes/{id}/extend": {
      "post": {
        "tags": [
          "volumes"
        ],
        "summary": "Extend the size of a volume.",
        "description": "Extend the size of an existing Volume for the currently\n authenticated tenant.\n\nThe Volume extension will be completed when the Volume status returns to\n \"completed\".\n\n#### Rules\n- The Volume state must be \"available\".\n- The Volume status must be \"completed\" or \"extend_error\".\n- The new Volume size must be larger than the current size.\n\n#### Notes\n- Utilize the block-storage volume list command to retrieve a list of all\n Volumes and obtain the ID of the Volume you want to extend.\n- Storage quotas are managed internally. If the operation fails due to quota\n restrictions, please contact our support team for assistance.",
        "operationId": "extend_volume_v1_volumes__id__extend_post",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id",
              "format": "uuid"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VolumeExtendRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Extend Volume V1 Volumes  Id  Extend Post"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Extend Volume V1 Volumes  Id  Extend Post"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_volume_extend"
      }
    },
    "/v1/volumes/{id}/rename": {
      "patch": {
        "tags": [
          "volumes"
        ],
        "summary": "Rename a volume.",
        "description": "Rename a Volume for the currently authenticated tenant.\n\n#### Rules\n- The Volume name must be unique; otherwise, renaming will not be allowed.\n\n#### Notes\n- Utilize the **block-storage volume list** command to retrieve a list of all\n Volumes and obtain the ID of the Volume you wish to rename.",
        "operationId": "rename_volume_v1_v1_volumes__id__rename_patch",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id",
              "format": "uuid"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RenameVolumeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Rename Volume V1 V1 Volumes  Id  Rename Patch"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 409 Rename Volume V1 V1 Volumes  Id  Rename Patch"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Rename Volume V1 V1 Volumes  Id  Rename Patch"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_volume_rename"
      }
    },
    "/v1/volumes/{id}/retype": {
      "post": {
        "tags": [
          "volumes"
        ],
        "summary": "Change the type of a volume.",
        "description": "Change the Volume Type of an existing Volume for the currently\n authenticated tenant.\n\nThe Volume retype will be completed when the Volume status returns to\n \"completed\".\n\n#### Rules\n- The Volume state must be \"available\".\n- The Volume status must be \"completed\" or \"retype_error\".\n- The new Volume Type must belong to the same region as the Volume.\n\n#### Notes\n- Utilize the **block-storage volume list** command to retrieve a list of all\n Volumes and obtain the ID of the Volume you want to retype.\n- Utilize the **block-storage volume-types list** command to retrieve a list of\n all Volume Types and obtain the ID of the Volume Type you want to use.",
        "operationId": "retype_volume_v1_volumes__id__retype_post",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Id",
              "format": "uuid"
            }
          },
          {
            "name": "x-tenant-id",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "X-Tenant-Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VolumeRetypeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 404 Retype Volume V1 Volumes  Id  Retype Post"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  },
                  "title": "Response 422 Retype Volume V1 Volumes  Id  Retype Post"
                }
              }
            }
          }
        },
        "x-viveiro": true,
        "x-permission-name": "bs_volume_retype"
      }
    }
  },
  "components": {
    "schemas": {
      "AttachmentMachine": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/InstanceStatus"
              },
              {
                "type": "string"
              }
            ],
            "title": "Status"
          },
          "state": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/InstanceState"
              },
              {
                "type": "string"
              }
            ],
            "title": "State"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "date-time"
              }
            ],
            "examples": [
              "2022-01-01T00:00:10Z"
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "date-time"
              }
            ],
            "examples": [
              "2022-01-01T00:00:10Z"
            ],
            "title": "Updated At"
          }
        },
        "title": "AttachmentMachine",
        "required": [
          "id",
          "name",
          "status",
          "state",
          "created_at",
          "updated_at"
        ],
        "example": {
          "created_at": "2022-01-01T00:00:10Z",
          "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
          "name": "machine name",
          "state": "running",
          "status": "completed",
          "updated_at": "2022-01-01T00:00:10Z"
        }
      },
      "AttachmentResponseV1": {
        "type": "object",
        "properties": {
          "instance": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AttachmentMachine"
              },
              {
                "$ref": "#/components/schemas/IdRequest"
              }
            ],
            "title": "Instance"
          },
          "attached_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "date-time"
              }
            ],
            "examples": [
              "2022-01-01T00:00:10Z"
            ],
            "title": "Attached At"
          },
          "device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device"
          }
        },
        "title": "AttachmentResponseV1",
        "required": [
          "instance",
          "attached_at"
        ],
        "example": {
          "attached_at": "2022-01-01T00:00:10Z",
          "device": "/dev/vdb",
          "instance": {
            "created_at": "2022-01-01T00:00:10Z",
            "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
            "name": "machine name",
            "state": "running",
            "status": "completed",
            "updated_at": "2022-01-01T00:00:10Z"
          }
        }
      },
      "CopyCrossRegionRequest": {
        "type": "object",
        "properties": {
          "destination_region": {
            "$ref": "#/components/schemas/Regions"
          }
        },
        "title": "CopyCrossRegionRequest",
        "required": [
          "destination_region"
        ],
        "example": {
          "destination_region": "br-se1"
        }
      },
      "CreateAttachmentRequest": {
        "type": "object",
        "properties": {
          "volume": {
            "$ref": "#/components/schemas/IdRequest"
          },
          "instance": {
            "$ref": "#/components/schemas/IdRequest"
          },
          "device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device"
          }
        },
        "title": "CreateAttachmentRequest",
        "required": [
          "volume",
          "instance"
        ],
        "example": {
          "device": "/dev/vdc",
          "instance": {
            "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
          },
          "volume": {
            "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
          }
        }
      },
      "DiskType": {
        "type": "string",
        "title": "DiskType",
        "enum": [
          "nvme",
          "hdd"
        ]
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "slug": {
            "type": "string",
            "title": "Slug"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "detail": {
            "type": "object",
            "title": "Detail"
          }
        },
        "title": "ErrorResponse",
        "required": [
          "slug",
          "message",
          "detail"
        ],
        "example": {
          "detail": {},
          "message": "Something went wrong",
          "slug": "generic"
        }
      },
      "ExpandSnapshots": {
        "type": "string",
        "title": "ExpandSnapshots",
        "enum": [
          "volume"
        ]
      },
      "GenericVolumeTypeList_VolumeTypeResponseWithAzs_": {
        "type": "object",
        "properties": {
          "types": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VolumeTypeResponseWithAzs"
            },
            "title": "Types"
          }
        },
        "title": "GenericVolumeTypeList[VolumeTypeResponseWithAzs]",
        "required": [
          "types"
        ],
        "example": {
          "types": [
            {
              "allows_encryption": true,
              "availability_zones": [
                "a"
              ],
              "disk_type": "nvme",
              "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
              "iops": {
                "read": 1000,
                "total": 1000,
                "write": 1000
              },
              "name": "my_volume_type",
              "status": "active"
            }
          ]
        }
      },
      "HTTPValidationError": {
        "type": "object",
        "properties": {
          "detail": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail"
          }
        },
        "title": "HTTPValidationError"
      },
      "IdRequest": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "minLength": 1
          }
        },
        "title": "IdRequest",
        "required": [
          "id"
        ],
        "example": {
          "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
        }
      },
      "IdResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "minLength": 1
          }
        },
        "title": "IdResponse",
        "required": [
          "id"
        ],
        "example": {
          "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
        }
      },
      "InstanceState": {
        "type": "string",
        "title": "InstanceState",
        "enum": [
          "new",
          "running",
          "stopped",
          "suspended",
          "deleted"
        ]
      },
      "InstanceStatus": {
        "type": "string",
        "title": "InstanceStatus",
        "enum": [
          "provisioning",
          "creating",
          "creating_error",
          "creating_error_quota",
          "completed",
          "retyping_pending",
          "retyping",
          "retyping_confirmed",
          "retyping_error",
          "retyping_error_quota",
          "stopping_pending",
          "stopping",
          "suspending_pending",
          "suspending",
          "rebooting_pending",
          "rebooting",
          "starting_pending",
          "starting",
          "deleting_pending",
          "deleting",
          "deleting_error",
          "deleted"
        ]
      },
      "Metadata": {
        "type": "object",
        "properties": {
          "page": {
            "$ref": "#/components/schemas/PageMetadata"
          }
        },
        "title": "Metadata",
        "required": [
          "page"
        ]
      },
      "Name": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "maxLength": 255,
            "minLength": 1
          }
        },
        "title": "Name",
        "required": [
          "name"
        ],
        "example": {
          "name": "some_resource_name"
        }
      },
      "PageMetadata": {
        "type": "object",
        "properties": {
          "offset": {
            "type": "integer",
            "title": "Offset"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "max_limit": {
            "type": "integer",
            "title": "Max Limit"
          }
        },
        "title": "PageMetadata",
        "required": [
          "offset",
          "limit",
          "count",
          "total",
          "max_limit"
        ]
      },
      "Regions": {
        "type": "string",
        "title": "Regions",
        "enum": [
          "br-se1",
          "br-mgl1",
          "br-ne1"
        ]
      },
      "RenameVolumeRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "maxLength": 50,
            "minLength": 3
          }
        },
        "title": "RenameVolumeRequest",
        "required": [
          "name"
        ],
        "example": {
          "name": "volume-name"
        }
      },
      "SnapshotCreationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "maxLength": 50,
            "minLength": 3
          },
          "volume": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdRequest"
              },
              {
                "$ref": "#/components/schemas/Name"
              },
              {
                "type": "null"
              }
            ],
            "title": "Volume"
          },
          "source_snapshot": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdRequest"
              },
              {
                "$ref": "#/components/schemas/Name"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Snapshot"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "type": {
            "$ref": "#/components/schemas/SnapshotType",
            "default": "instant"
          }
        },
        "title": "SnapshotCreationRequest",
        "required": [
          "name",
          "description"
        ],
        "example": {
          "description": "my-snapshot",
          "name": "snapshot-name",
          "source_snapshot": {
            "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
          },
          "type": "instant",
          "volume": {
            "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
          }
        }
      },
      "SnapshotListResponse": {
        "type": "object",
        "properties": {
          "meta": {
            "$ref": "#/components/schemas/Metadata"
          },
          "snapshots": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SnapshotResponse"
            },
            "title": "Snapshots"
          }
        },
        "title": "SnapshotListResponse",
        "required": [
          "meta",
          "snapshots"
        ],
        "example": {
          "meta": {
            "page": {
              "count": 0,
              "limit": 20,
              "max_limit": 100,
              "offset": 0,
              "total": 0
            }
          },
          "snapshots": [
            {
              "availability_zones": [
                "br-ne1-a"
              ],
              "created_at": "2022-01-01T00:00:10Z",
              "description": "my snapshot for testing",
              "encrypted": false,
              "error": {
                "message": "You have reached the limit of allowed snapshots. Please, remove unused snapshots or contact support to increase your quota.",
                "slug": "creating_error_quota"
              },
              "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
              "name": "My snapshot",
              "size": 10,
              "state": "available",
              "status": "completed",
              "type": "object",
              "updated_at": "2022-01-01T00:00:10Z",
              "volume": {
                "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
              }
            }
          ]
        }
      },
      "SnapshotRenameRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "maxLength": 50,
            "minLength": 3
          }
        },
        "title": "SnapshotRenameRequest",
        "required": [
          "name"
        ],
        "example": {
          "name": "snapshot-name"
        }
      },
      "SnapshotResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "state": {
            "$ref": "#/components/schemas/SnapshotStateV1"
          },
          "status": {
            "$ref": "#/components/schemas/SnapshotStatusV1"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "date-time"
              }
            ],
            "examples": [
              "2022-01-01T00:00:10Z"
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "date-time"
              }
            ],
            "examples": [
              "2022-01-01T00:00:10Z"
            ],
            "title": "Updated At"
          },
          "volume": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdResponse"
              },
              {
                "$ref": "#/components/schemas/SnapshotVolume"
              },
              {
                "type": "null"
              }
            ],
            "title": "Volume"
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SnapshotResponseError"
              },
              {
                "type": "null"
              }
            ]
          },
          "availability_zones": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "Availability Zones"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "encrypted": {
            "type": "boolean",
            "title": "Encrypted"
          }
        },
        "title": "SnapshotResponse",
        "required": [
          "id",
          "name",
          "size",
          "description",
          "state",
          "status",
          "created_at",
          "updated_at",
          "volume",
          "availability_zones",
          "type",
          "encrypted"
        ],
        "example": {
          "availability_zones": [
            "br-ne1-a"
          ],
          "created_at": "2022-01-01T00:00:10Z",
          "description": "my snapshot for testing",
          "encrypted": false,
          "error": {
            "message": "You have reached the limit of allowed snapshots. Please, remove unused snapshots or contact support to increase your quota.",
            "slug": "creating_error_quota"
          },
          "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
          "name": "My snapshot",
          "size": 10,
          "state": "available",
          "status": "completed",
          "type": "object",
          "updated_at": "2022-01-01T00:00:10Z",
          "volume": {
            "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
          }
        }
      },
      "SnapshotResponseError": {
        "type": "object",
        "properties": {
          "slug": {
            "type": "string",
            "title": "Slug"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "title": "SnapshotResponseError",
        "required": [
          "slug",
          "message"
        ],
        "example": {
          "message": "You have reached the limit of allowed snapshots. Please, remove unused snapshots or contact support to increase your quota.",
          "slug": "creating_error_quota"
        }
      },
      "SnapshotStateV1": {
        "type": "string",
        "title": "SnapshotStateV1",
        "enum": [
          "new",
          "available",
          "deleted"
        ]
      },
      "SnapshotStatusV1": {
        "type": "string",
        "title": "SnapshotStatusV1",
        "enum": [
          "provisioning",
          "creating",
          "creating_error",
          "creating_error_quota",
          "completed",
          "deleting",
          "deleted",
          "deleted_error",
          "replicating",
          "replicating_error",
          "replicating_error_quota",
          "restoring",
          "restoring_error",
          "copying"
        ]
      },
      "SnapshotType": {
        "type": "string",
        "title": "SnapshotType",
        "enum": [
          "instant",
          "object"
        ]
      },
      "SnapshotVolume": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "type": {
            "$ref": "#/components/schemas/SnapshotVolumeType"
          }
        },
        "title": "SnapshotVolume",
        "required": [
          "id",
          "name",
          "size",
          "type"
        ],
        "example": {
          "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
          "name": "My volume",
          "size": 10,
          "type": {
            "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
            "name": "My volume type"
          }
        }
      },
      "SnapshotVolumeType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          }
        },
        "title": "SnapshotVolumeType",
        "required": [
          "id",
          "name"
        ],
        "example": {
          "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
          "name": "My volume type"
        }
      },
      "ValidationError": {
        "type": "object",
        "properties": {
          "loc": {
            "type": "array",
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "title": "ValidationError",
        "required": [
          "loc",
          "msg",
          "type"
        ]
      },
      "VolumeCreateRequestV1": {
        "type": "object",
        "properties": {
          "availability_zone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Availability Zone"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "maxLength": 50,
            "minLength": 3
          },
          "size": {
            "type": "integer",
            "title": "Size",
            "maximum": 2147483648,
            "minimum": 10,
            "description": "Gibibytes (GiB)"
          },
          "type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdRequest"
              },
              {
                "$ref": "#/components/schemas/Name"
              }
            ],
            "title": "Type"
          },
          "snapshot": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdRequest"
              },
              {
                "$ref": "#/components/schemas/Name"
              },
              {
                "type": "null"
              }
            ],
            "title": "Snapshot"
          },
          "encrypted": {
            "type": "boolean",
            "title": "Encrypted",
            "description": "Indicates if the volume is encrypted. Default is False.",
            "default": false
          }
        },
        "title": "VolumeCreateRequestV1",
        "required": [
          "name",
          "size",
          "type"
        ],
        "example": {
          "availability_zone": "br-se1-a",
          "encrypted": false,
          "name": "volume-name",
          "size": 10,
          "snapshot": {
            "name": "my_snapshot_name"
          },
          "type": {
            "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
          }
        }
      },
      "VolumeExtendRequest": {
        "type": "object",
        "properties": {
          "size": {
            "exclusiveMinimum": 0,
            "type": "integer",
            "title": "Size",
            "description": "New volume size in GB"
          }
        },
        "title": "VolumeExtendRequest",
        "required": [
          "size"
        ],
        "example": {
          "size": 20
        }
      },
      "VolumeResponseError": {
        "type": "object",
        "properties": {
          "slug": {
            "type": "string",
            "title": "Slug"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "title": "VolumeResponseError",
        "required": [
          "slug",
          "message"
        ],
        "example": {
          "message": "You have reached the limit of allowed disks. Please, remove unused disks or contact support to increase your quota.",
          "slug": "creating_error_quota"
        }
      },
      "VolumeResponseV1": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "status": {
            "$ref": "#/components/schemas/VolumeStatusV1"
          },
          "state": {
            "$ref": "#/components/schemas/VolumeStateV1"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "date-time"
              }
            ],
            "examples": [
              "2022-01-01T00:00:10Z"
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "date-time"
              }
            ],
            "examples": [
              "2022-01-01T00:00:10Z"
            ],
            "title": "Updated At"
          },
          "type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdRequest"
              },
              {
                "$ref": "#/components/schemas/VolumeTypeResponse"
              }
            ],
            "title": "Type"
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VolumeResponseError"
              },
              {
                "type": "null"
              }
            ]
          },
          "attachment": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AttachmentResponseV1"
              },
              {
                "type": "null"
              }
            ]
          },
          "availability_zone": {
            "type": "string",
            "title": "Availability Zone"
          },
          "availability_zones": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "Availability Zones"
          },
          "encrypted": {
            "type": "boolean",
            "title": "Encrypted",
            "default": false
          }
        },
        "title": "VolumeResponseV1",
        "required": [
          "id",
          "name",
          "size",
          "status",
          "state",
          "created_at",
          "updated_at",
          "type",
          "availability_zone",
          "availability_zones"
        ],
        "example": {
          "attachment": {
            "attached_at": "2022-01-01T00:00:10Z",
            "device": "/dev/vdb",
            "instance": {
              "created_at": "2022-01-01T00:00:10Z",
              "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
              "name": "machine name",
              "state": "running",
              "status": "completed",
              "updated_at": "2022-01-01T00:00:10Z"
            }
          },
          "availability_zone": "br-ne1-a",
          "availability_zones": [
            "br-ne1-a"
          ],
          "created_at": "2022-01-01T00:00:10Z",
          "encrypted": false,
          "error": {
            "message": "You have reached the limit of allowed disks. Please, remove unused disks or contact support to increase your quota.",
            "slug": "creating_error_quota"
          },
          "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
          "name": "volume name",
          "size": 10,
          "state": "in-use",
          "status": "completed",
          "type": {
            "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
          },
          "updated_at": "2022-01-01T00:00:10Z"
        }
      },
      "VolumeRetypeRequest": {
        "type": "object",
        "properties": {
          "new_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/IdRequest"
              },
              {
                "$ref": "#/components/schemas/Name"
              }
            ],
            "title": "New Type"
          }
        },
        "title": "VolumeRetypeRequest",
        "required": [
          "new_type"
        ],
        "example": {
          "new_type": {
            "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
          }
        }
      },
      "VolumeStateV1": {
        "type": "string",
        "title": "VolumeStateV1",
        "enum": [
          "new",
          "available",
          "in-use",
          "deleted",
          "legacy"
        ]
      },
      "VolumeStatusV1": {
        "type": "string",
        "title": "VolumeStatusV1",
        "enum": [
          "provisioning",
          "creating",
          "creating_error",
          "creating_error_quota",
          "completed",
          "extend_pending",
          "extending",
          "extend_error",
          "extend_error_quota",
          "attaching_pending",
          "attaching_error",
          "attaching",
          "detaching_pending",
          "detaching_error",
          "detaching",
          "retype_pending",
          "retyping",
          "retype_error",
          "retype_error_quota",
          "deleting_pending",
          "deleting",
          "deleted",
          "deleted_error"
        ]
      },
      "VolumeTypeResponse": {
        "type": "object",
        "properties": {
          "iops": {
            "$ref": "#/components/schemas/VolumeTypeSpec"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "disk_type": {
            "$ref": "#/components/schemas/DiskType"
          },
          "status": {
            "$ref": "#/components/schemas/VolumeTypeStatus"
          }
        },
        "title": "VolumeTypeResponse",
        "required": [
          "iops",
          "id",
          "name",
          "disk_type",
          "status"
        ],
        "example": {
          "disk_type": "nvme",
          "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
          "iops": {
            "read": 1000,
            "total": 1000,
            "write": 1000
          },
          "name": "my_volume_type",
          "status": "active"
        }
      },
      "VolumeTypeResponseWithAzs": {
        "type": "object",
        "properties": {
          "iops": {
            "$ref": "#/components/schemas/VolumeTypeSpec"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "disk_type": {
            "$ref": "#/components/schemas/DiskType"
          },
          "status": {
            "$ref": "#/components/schemas/VolumeTypeStatus"
          },
          "availability_zones": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "Availability Zones"
          },
          "allows_encryption": {
            "type": "boolean",
            "title": "Allows Encryption",
            "default": false
          }
        },
        "title": "VolumeTypeResponseWithAzs",
        "required": [
          "iops",
          "id",
          "name",
          "disk_type",
          "status",
          "availability_zones"
        ],
        "example": {
          "allows_encryption": true,
          "availability_zones": [
            "a"
          ],
          "disk_type": "nvme",
          "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
          "iops": {
            "read": 1000,
            "total": 1000,
            "write": 1000
          },
          "name": "my_volume_type",
          "status": "active"
        }
      },
      "VolumeTypeSpec": {
        "type": "object",
        "properties": {
          "read": {
            "type": "integer",
            "title": "Read"
          },
          "write": {
            "type": "integer",
            "title": "Write"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "title": "VolumeTypeSpec",
        "required": [
          "read",
          "write",
          "total"
        ],
        "example": {
          "read": 1000,
          "total": 1000,
          "write": 1000
        }
      },
      "VolumeTypeStatus": {
        "type": "string",
        "title": "VolumeTypeStatus",
        "enum": [
          "active",
          "deprecated",
          "deleted"
        ]
      },
      "VolumesResponseV1": {
        "type": "object",
        "properties": {
          "meta": {
            "$ref": "#/components/schemas/Metadata"
          },
          "volumes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VolumeResponseV1"
            },
            "title": "Volumes"
          }
        },
        "title": "VolumesResponseV1",
        "required": [
          "meta",
          "volumes"
        ],
        "example": {
          "meta": {
            "page": {
              "count": 0,
              "limit": 20,
              "max_limit": 100,
              "offset": 0,
              "total": 0
            }
          },
          "volumes": [
            {
              "attachment": {
                "attached_at": "2022-01-01T00:00:10Z",
                "device": "/dev/vdb",
                "instance": {
                  "created_at": "2022-01-01T00:00:10Z",
                  "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
                  "name": "machine name",
                  "state": "running",
                  "status": "completed",
                  "updated_at": "2022-01-01T00:00:10Z"
                }
              },
              "availability_zone": "br-ne1-a",
              "availability_zones": [
                "br-ne1-a"
              ],
              "created_at": "2022-01-01T00:00:10Z",
              "encrypted": false,
              "error": {
                "message": "You have reached the limit of allowed disks. Please, remove unused disks or contact support to increase your quota.",
                "slug": "creating_error_quota"
              },
              "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
              "name": "volume name",
              "size": 10,
              "state": "in-use",
              "status": "completed",
              "type": {
                "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
              },
              "updated_at": "2022-01-01T00:00:10Z"
            }
          ]
        }
      }
    }
  },
  "tags": [
    {
      "name": "volumes",
      "description": "Operations with volumes, including create, delete, extend, retype, list and other actions."
    },
    {
      "name": "volume-types",
      "description": "Operations with volume types for volumes."
    },
    {
      "name": "snapshots",
      "description": "Operations with snapshots for volumes."
    }
  ]
}